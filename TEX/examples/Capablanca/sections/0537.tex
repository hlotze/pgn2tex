\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Euwe, Max $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Euwe, Max -- 1/2-1/2 -- D18}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D18 -- Slav: Dutch, 8...O-O}
\subsubsection{D18 -- Slav: Dutch, 8...O-O}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. Nc3 dxc4 5. a4 Bf5 6. e3 e6 7. Bxc4 Bb4 8. O-O O-O}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rn1q1rk1/pp3ppp/2p1pn2/5b2/PbBP4/2N1PN2/1P3PPP/R1BQ1RK1 w - - 3 9},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e8,g8},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e8-g8}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Nottingham, Nottingham}}\\ 
\multicolumn{2}{l}{1936}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Euwe, Max} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. Nc3 dxc4 5. a4 Bf5 6. e3 e6 7. Bxc4 Bb4 8. O-O O-O}\mainline{9. Ne5 c5 10. Na2 Ba5 11. dxc5 Qxd1 12. Rxd1 Bc2 13. Rd4 Bc7 14. Nf3 Nc6 15. Rd2 Bg6 16. b4 a5 17. b5 Ne5 18. Nxe5 Bxe5 19. Bb2 Ne4 20. Re2 Bxb2 21. Rxb2 Nxc5 22. Nc1 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={a2,c1},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={a2-c1}]
\newline
22.\,\xskakget{lan} ...
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
