\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Yates, Frederick $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Yates, Frederick -- 1-0 -- D00}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A48 -- Neo-King's Indian: East Indian Defence, 1.d4 Nf6 2.Nf3 g6 3.Nc3}
\subsubsection{A48 -- Neo-King's Indian: East Indian Defence, 1.d4 Nf6 2.Nf3 g6 3.Nc3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. Nf3 g6 3. Nc3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pppppp1p/5np1/8/3P4/2N2N2/PPP1PPPP/R1BQKB1R b KQkq - 1 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={b1,c3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b1-c3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1924}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Yates, Frederick} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. Nf3 g6 3. Nc3}\mainline{3...  d5 4. Bf4 Bg7 5. e3 O-O 6. h3 c5 7. dxc5 Qa5 8. Nd2 Qxc5 9. Nb3 Qb6 10. Be5 e6 11. Nb5 Ne8 12. Bxg7 Nxg7 13. h4 a6 14. Nc3 Nc6 15. Bd3 f5 16. Qd2 Ne5 17. Be2 Nc4 18. Bxc4 dxc4 19. Qd4 Qc7 20. Qc5 Qxc5 21. Nxc5 b6 22. N5a4 Rb8 23. O-O-O b5 24. Nc5 Rb6 25. a4 Nh5 26. b3 cxb3 27. cxb3 bxa4 28. N3xa4 Rc6 29. Kb2 Nf6 30. Rd2 a5 31. Rhd1 Nd5 32. g3 Rf7 33. Nd3 Rb7 34. Ne5 Rcc7 35. Rd4 Kg7 36. e4 fxe4 37. Rxe4 Rb5 38. Rc4 Rxc4 39. Nxc4 Bd7 40. Nc3 Rc5 41. Ne4 Rb5 42. Ned6 Rc5 43. Nb7 Rc7 44. Nbxa5 Bb5 45. Nd6 Bd7 46. Nac4 Ra7 47. Ne4 h6 48. f4 Be8 49. Ne5 Ra8 50. Rc1 Bf7 51. Rc6 Bg8 52. Nc5 Re8 53. Ra6 Re7 54. Ka3 Bf7 55. b4 Nc7 56. Rc6 Nb5+ 57. Kb2 Nd4 58. Ra6 Be8 59. g4 Kf6 60. Ne4+ Kg7 61. Nd6 Bb5 62. Ra5 Bf1 63. Ra8 g5 64. fxg5 hxg5 65. hxg5 Bg2 66. Re8 Rc7 67. Rd8 Nc6 68. Ne8+ Kf8 69. Nxc7+ Nxd8 70. Kc3 Bb7 71. Kd4 Bc8 72. g6 Nb7 73. Ne8 Nd8 74. b5 Kg8 75. g5 Kf8 76. g7+ Kg8 77. g6 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={g5,g6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g5-g6}]
\newline
77.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
