\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Maroczy, Geza $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Maroczy, Geza vs. Capablanca, Jose Raul -- 0-1 -- C96}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C96 -- Spanish: Closed, Chigorin, 11.d3 Nc6}
\subsubsection{C96 -- Spanish: Closed, Chigorin, 11.d3 Nc6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. h3 Na5 10. Bc2 c5 11. d3 Nc6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bq1rk1/4bppp/p1np1n2/1pp1p3/4P3/2PP1N1P/PPB2PP1/RNBQR1K1 w - - 1 12},
             pgfstyle=border,
             color=YellowGreen,
             markfields={a5,c6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={a5-c6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1924}\\[3mm]
\textbf{$\square$ \hspace{2mm} Maroczy, Geza} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. h3 Na5 10. Bc2 c5 11. d3 Nc6}\mainline{12. Nbd2 d5 13. Nf1 dxe4 14. dxe4 Be6 15. Bd2 Ra7 16. Ng5 Bc4 17. Ne3 Bd3 18. Bxd3 Qxd3 19. Nf5 h6 20. Re3 Qd8 21. Nf3 Rd7 22. Qc2 c4 23. Nxe7+ Qxe7 24. a4 Rfd8 25. axb5 axb5 26. Ree1 Qe6 27. Be3 Rd3 28. Nd2 Ne7 29. f3 Nh5 30. Nf1 f5 31. Bf2 Qg6 32. Kh2 Qg5 33. Be3 Nf4 34. Ng3 Rxe3 35. Rxe3 Nxg2 36. Re2 Nf4 37. Rd2 Rf8 38. Nh1 Qh5 39. Nf2 Neg6 40. Qd1 Nh4 41. Rd8 Nxf3+ 42. Kh1 Nd3 43. Rxd3 cxd3 44. Qxd3 f4 45. Qd1 Rf6 46. Ra8+ Kh7 47. Qd5 Ng5 48. Qg8+ Kg6 49. Qe8+ Nf7 50. Qc8 Qf3+ 51. Kg1 Qg3+ 52. Kf1 f3 53. Qg4+ Qxg4 54. hxg4 Kg5 55. Ra5 Nd6 56. Nd3 Kxg4 57. Nxe5+ Kg3}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={g4,g3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g4-g3}]
\newline
57. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
