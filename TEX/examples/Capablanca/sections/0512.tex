\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Ragozin, Viacheslav $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Ragozin, Viacheslav vs. Capablanca, Jose Raul -- 1/2-1/2 -- D47}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A09 -- Reti Opening: 2.c4}
\subsubsection{A09 -- Reti Opening: 2.c4}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. Nf3 d5 2. c4}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkbnr/ppp1pppp/8/3p4/2P5/5N2/PP1PPPPP/RNBQKB1R b KQkq - 0 2},
             pgfstyle=border,
             color=YellowGreen,
             markfields={c2,c4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c2-c4}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Moscow, Moscow}}\\ 
\multicolumn{2}{l}{1936}\\[3mm]
\textbf{$\square$ \hspace{2mm} Ragozin, Viacheslav} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. Nf3 d5 2. c4}\mainline{2...  c6 3. e3 Nf6 4. Nc3 Nbd7 5. d4 e6 6. Bd3 dxc4 7. Bxc4 b5 8. Bd3 b4 9. Ne2 c5 10. O-O Bb7 11. Ne5 Bd6 12. f4 O-O 13. Ng3 cxd4 14. exd4 a5 15. Qe2 Bb8 16. Be3 Nd5 17. Rad1 Nxe3 18. Qxe3 Ba7 19. Be4 Bxe4 20. Nxe4 Rc8 21. Kh1 Qe7 22. Rc1 Rxc1 23. Rxc1 Nxe5 24. fxe5 Rd8 25. Nd6 Bb8 26. Nb5 Qb7 27. Rc5 h6 28. h3 Rd5 29. Qc1 Kh7 30. Qc2+ g6 31. Nd6 Qd7 32. Ne4 Rxc5 33. Nf6+ Kg7 34. Qxc5 Qd8 35. b3 h5 36. Kg1 h4 37. Kf2 Bxe5 38. dxe5 Qd2+ 39. Kg1 Qe1+ 40. Kh2 Qg3+ 41. Kh1 Qe1+ 42. Qg1 Qxe5 43. Ng4 Qb2 44. Qe3 Kg8 45. Qe5 Qd2 46. Kh2 Qd3 47. Nf6+ Kf8 48. Ne4 Kg8 49. Ng5 Qd2 50. Qf6 Qd6+ 51. Kh1 Qd1+ 52. Kh2 Qd6+ 53. Kg1 Qc5+ 54. Kf1 Qc1+ 55. Ke2 Qc2+ 56. Ke3 Qc1+ 57. Kd3 Qd1+}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={c1,d1},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c1-d1},
       pgfstyle=circle,
       color=BrickRed,
       markfield={d3}]
\newline
57. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
