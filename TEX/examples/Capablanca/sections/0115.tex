\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Nimzowitsch, Aaron  $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Nimzowitsch, Aaron  vs. Capablanca, Jose Raul -- 0-1 -- C62}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C48 -- Four Knights: Spanish, 4...d6 5.d4}
\subsubsection{C48 -- Four Knights: Spanish, 4...d6 5.d4}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 d6 5. d4}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkb1r/ppp2ppp/2np1n2/1B2p3/3PP3/2N2N2/PPP2PPP/R1BQK2R b KQkq - 0 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={d2,d4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d2-d4}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{St Petersburg, St Petersburg prel}}\\ 
\multicolumn{2}{l}{1914}\\[3mm]
\textbf{$\square$ \hspace{2mm} Nimzowitsch, Aaron } & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 d6 5. d4}\mainline{5...  Bd7 6. Bxc6 Bxc6 7. Qd3 exd4 8. Nxd4 g6 9. Nxc6 bxc6 10. Qa6 Qd7 11. Qb7 Rc8 12. Qxa7 Bg7 13. O-O O-O 14. Qa6 Rfe8 15. Qd3 Qe6 16. f3 Nd7 17. Bd2 Ne5 18. Qe2 Nc4 19. Rab1 Ra8 20. a4 Nxd2 21. Qxd2 Qc4 22. Rfd1 Reb8 23. Qe3 Rb4 24. Qg5 Bd4+ 25. Kh1 Rab8 26. Rxd4 Qxd4 27. Rd1 Qc4 28. h4 Rxb2 29. Qd2 Qc5 30. Re1 Qh5 31. Ra1 Qxh4+ 32. Kg1 Qh5 33. a5 Ra8 34. a6 Qc5+ 35. Kh1 Qc4 36. a7 Qc5 37. e5 Qxe5 38. Ra4 Qh5+ 39. Kg1 Qc5+ 40. Kh2 d5 41. Rh4 Rxa7 42. Nd1 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={c3,d1},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c3-d1}]
\newline
42.\,\xskakget{lan} ...
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
