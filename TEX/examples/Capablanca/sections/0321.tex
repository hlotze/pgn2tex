\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Marshall, Frank James $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Marshall, Frank James vs. Capablanca, Jose Raul -- 0-1 -- A46}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A46 -- Torre Attack: 3...c5 4.c3 Qb6}
\subsubsection{A46 -- Torre Attack: 3...c5 4.c3 Qb6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. Nf3 e6 3. Bg5 c5 4. c3 Qb6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnb1kb1r/pp1p1ppp/1q2pn2/2p3B1/3P4/2P2N2/PP2PPPP/RN1QKB1R w KQkq - 1 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={d8,b6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d8-b6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1927 Round 2}\\[3mm]
\textbf{$\square$ \hspace{2mm} Marshall, Frank James} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. Nf3 e6 3. Bg5 c5 4. c3 Qb6}\mainline{5. Qc2 cxd4 6. Nxd4 Nc6 7. e3 d5 8. Nd2 Bd7 9. N2f3 Ne4 10. Bf4 f6 11. Bd3 e5 12. Bxe4 dxe4 13. Qxe4 O-O-O 14. Bg3 exd4 15. O-O dxe3 16. a4 Re8 17. Qd3 exf2+ 18. Kh1 Qe3 19. Qd1 Bg4 20. Rxf2 h5 21. Qf1 Bxf3 22. Rxf3 Qe2 23. Qg1 h4 24. Re1 hxg3 25. Rxe2 Rxe2 26. Rxg3 Bd6 27. Qf1 Rhe8 28. Qf5+ Kb8 29. Rf3 R8e5 30. Qd3 Re1+ 31. Rf1 Rd5 32. Qf3 Ne5 33. Qf2 Rxf1+ 34. Qxf1 Ng4}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e5,g4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e5-g4}]
\newline
34. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
