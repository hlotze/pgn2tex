\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Marshall, Frank James $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Marshall, Frank James -- 1-0 -- C63}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C63 -- Spanish: Schliemann, 4.Nc3 Nf6 5.exf5}
\subsubsection{C63 -- Spanish: Schliemann, 4.Nc3 Nf6 5.exf5}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Bb5 f5 4. Nc3 Nf6 5. exf5}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkb1r/pppp2pp/2n2n2/1B2pP2/8/2N2N2/PPPP1PPP/R1BQK2R b KQkq - 0 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e4,f5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e4-f5}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, USA m}}\\ 
\multicolumn{2}{l}{1909 Round 12}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Marshall, Frank James} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Bb5 f5 4. Nc3 Nf6 5. exf5}\mainline{5...  e4 6. Nh4 d5 7. d3 Be7 8. dxe4 dxe4 9. Qxd8+ Bxd8 10. Bg5 O-O 11. O-O-O Ne5 12. h3 a6 13. Ba4 c5 14. Bf4 Nfd7 15. Bxd7 Nxd7 16. Bg3 Bxh4 17. Bxh4 Rxf5 18. Rhe1 Nf8 19. Nxe4 Be6 20. Be7 Rd5 21. Nxc5 Rxd1+ 22. Rxd1 Bf5 23. Bxf8 Rxf8 24. Rd2 Bc8 25. f3 h6 26. b3 Kh7 27. Kb2 Rf7 28. a4 Rc7 29. Ne4 Bf5 30. Nd6 Bg6 31. a5 h5 32. c4 Re7 33. Kc3 Kh6 34. h4 Bh7 35. Rd5 Re3+ 36. Kb4 Re2 37. Nf7+ Kg6 38. Ng5 Bg8 39. Rd6+ Kf5 40. Rd8 Bxc4 41. Kxc4 Rxg2 42. Rf8+ Ke5 43. f4+ Kd6 44. Rd8+ Kc6 45. Nf3 Rc2+ 46. Kb4 Rf2 47. Ne5+ Kc7 48. Rd7+ Kc8 49. Rf7 Rh2 50. Ng6 Re2 51. Rxg7 b6 52. axb6 a5+ 53. Kb5 a4 54. Ne5 axb3 55. b7+ }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={b6,b7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b6-b7},
       pgfstyle=circle,
       color=BrickRed,
       markfield={c8}]
\newline
55.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
