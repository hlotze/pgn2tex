\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Dake, Arthur William $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Dake, Arthur William -- 1-0 -- D17}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A05 -- Reti Opening: 1...Nf6}
\subsubsection{A05 -- Reti Opening: 1...Nf6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. Nf3 Nf6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pppppppp/5n2/8/8/5N2/PPPPPPPP/RNBQKB1R w KQkq - 2 2},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g8,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g8-f6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1931 Round 4}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Dake, Arthur William} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. Nf3 Nf6}\mainline{2. c4 c6 3. d4 d5 4. Nc3 dxc4 5. a4 Bg4 6. Ne5 Nbd7 7. Nxc4 Qc7 8. g3 e5 9. dxe5 Nxe5 10. Bf4 Nfd7 11. Bg2 f6 12. O-O Be6 13. Nxe5 fxe5 14. Be3 Bc5 15. Ne4 Bxe3 16. fxe3 O-O-O 17. Ng5 Nf6 18. Qc2 Bg8 19. Rad1 Rxd1 20. Rxd1 h6 21. Nf3 e4 22. Nd2 Bh7 23. Nc4 Rd8 24. Rd4 c5 25. Rxd8+ Kxd8 26. Bh3 g5 27. Qc3 Ke7 28. Qe5+ Qxe5 29. Nxe5 Bg8 30. a5 Kd6 31. Ng4 Nxg4 32. Bxg4 Be6 33. Bh5 c4 34. Bg6 Bd5 35. Kf2 Kc5 36. Ke1 Kb4 37. Kd2 c3+ 38. bxc3+ Kxa5 39. c4 Bc6 40. Kc3 Ka4 41. Bf7 Ka3 42. c5 Ka4 43. Kc4 b5+ 44. cxb6 axb6 45. Bg6 Ka3 46. Kd4 Kb3 47. h4 Kc2 48. hxg5 hxg5 49. Bf5 Kd2 50. g4 Kxe2 51. Bxe4 Be8 52. Bf5 Kf3 53. e4 Kf4 54. e5 b5 55. e6 Bc6 56. Bg6 b4 57. Kc5 Ba4 58. Kxb4 Bc6 59. Kc5 Ba4 60. Bh5 Ke5 61. e7 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e6,e7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e6-e7}]
\newline
61.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
