\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Euwe, Max $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Euwe, Max -- 1/2-1/2 -- D47}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D10 -- Slav: 3.e3 Nf6}
\subsubsection{D10 -- Slav: 3.e3 Nf6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. c4 c6 3. e3 Nf6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pp2pppp/2p2n2/3p4/2PP4/4P3/PP3PPP/RNBQKBNR w KQkq - 1 4},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g8,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g8-f6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Amsterdam, Amsterdam m3}}\\ 
\multicolumn{2}{l}{1931 Round 7}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Euwe, Max} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. c4 c6 3. e3 Nf6}\mainline{4. Nc3 e6 5. Nf3 Nbd7 6. Bd3 dxc4 7. Bxc4 b5 8. Be2 a6 9. a3 c5 10. dxc5 Bxc5 11. b4 Be7 12. Bb2 Bb7 13. O-O O-O 14. Qd4 Nb6 15. Rfd1 Qxd4 16. Nxd4 Rac8 17. Rac1 Nc4 18. Bxc4 Rxc4 19. Nb1 Rfc8 20. Nd2 Rxc1 21. Rxc1 Rxc1+ 22. Bxc1 Nd7 23. f3 Bf6 24. Kf2 Kf8 25. Ke2 Ke7 26. Bb2 Kd6 27. Ba1 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={b2,a1},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b2-a1}]
\newline
27.\,\xskakget{lan} ...
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
