\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Lasker, Emanuel $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Lasker, Emanuel vs. Capablanca, Jose Raul -- 0-1 -- B83}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! B33 -- Sicilian: Open, 1.e4 c5 2.Nf3 Nc6 3.d4 cxd4 4.Nxd4 Nf6}
\subsubsection{B33 -- Sicilian: Open, 1.e4 c5 2.Nf3 Nc6 3.d4 cxd4 4.Nxd4 Nf6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 Nf6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkb1r/pp1ppppp/2n2n2/8/3NP3/8/PPP2PPP/RNBQKB1R w KQkq - 1 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g8,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g8-f6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Moscow, Moscow}}\\ 
\multicolumn{2}{l}{1936}\\[3mm]
\textbf{$\square$ \hspace{2mm} Lasker, Emanuel} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 Nf6}\mainline{5. Nc3 d6 6. Be2 Bd7 7. Be3 e6 8. Qd2 a6 9. f4 Qc7 10. Nb3 b5 11. Bf3 Rb8 12. Ne2 Be7 13. O-O O-O 14. Ng3 a5 15. Nd4 a4 16. Rae1 Rfc8 17. Rf2 Ne8 18. Nxc6 Bxc6 19. f5 e5 20. Nh5 Qb7 21. Bg5 f6 22. Be3 Nc7 23. Qd1 Rd8 24. Rd2 Kh8 25. a3 Rbc8 26. Bf2 d5 27. exd5 Nxd5 28. Bxd5 Rxd5 29. Qg4 Bc5 30. Red1 Bxf2+ 31. Kxf2 Rcd8 32. Rxd5 Rxd5 33. Rxd5 Bxd5 34. Qb4 Qa7+ 35. Ke2 Bc4+ 36. Kf3 Qa8+ 37. Kf2 Qd8 38. Qc3 Qd1 39. Ng3 h6 40. b3 axb3 41. cxb3 Bxb3 42. Nf1 Qb1 43. g4 Bc4 44. Ne3 Qh1 45. Nxc4 Qxh2+ 46. Ke1 Qg1+ 47. Kd2 Qf2+ 48. Kc1 Qf1+ 49. Kd2 bxc4 50. a4 Qf4+ 51. Kc2 Qxg4 52. a5 Qxf5+ 53. Kc1 Qf2 54. Qa3 Kh7}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={h8,h7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={h8-h7}]
\newline
54. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
