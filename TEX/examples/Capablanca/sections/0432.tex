\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Yates, Frederick $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Yates, Frederick -- 1-0 -- D66}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D30 -- QGD: 3.Nf3 Nf6 4.Bg5 Nbd7}
\subsubsection{D30 -- QGD: 3.Nf3 Nf6 4.Bg5 Nbd7}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. c4 e6 3. Nf3 Nf6 4. Bg5 Nbd7}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkb1r/pppn1ppp/4pn2/3p2B1/2PP4/5N2/PP2PPPP/RN1QKB1R w KQkq - 4 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={b8,d7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b8-d7}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Hastings, Hastings 3031}}\\ 
\multicolumn{2}{l}{1930 Round 2}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Yates, Frederick} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. c4 e6 3. Nf3 Nf6 4. Bg5 Nbd7}\mainline{5. e3 Be7 6. Nc3 O-O 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 a6 10. O-O b5 11. Be2 Bb7 12. Qc2 Rc8 13. Rfd1 c5 14. dxc5 Rxc5 15. b4 Rc8 16. Qb1 Nd5 17. Nxd5 Bxg5 18. Rxc8 Bxc8 19. Nxg5 Qxg5 20. Nc3 Bb7 21. Ne4 Qg6 22. Bf3 Bd5 23. Nc3 Qxb1 24. Nxb1 Nf6 25. Nc3 Rc8 26. Nxd5 Nxd5 27. Bxd5 exd5 28. g3 g6 29. Rxd5 Rc2 30. a4 bxa4 31. Ra5 Ra2 32. Rxa6 Kg7 33. Kg2 a3 34. b5 Rb2 35. Rxa3 Rxb5 36. Ra6 Rb4 37. h3 Rc4 38. Kf3 Rb4 39. Ra5 Rc4 40. g4 h6 41. Kg3 Rc1 42. Kg2 Rc4 43. Rd5 Ra4 44. f4 Ra2+ 45. Kg3 Re2 46. Re5 Re1 47. Kf2 Rh1 48. Kg2 Re1 49. h4 Kf6 50. h5 Re2+ 51. Kf3 Re1 52. Ra5 Kg7 53. hxg6 Kxg6 54. e4 Rf1+ 55. Kg3 Rg1+ 56. Kh3 Rf1 57. Rf5 Re1 58. e5 Re3+ 59. Kg2 Ra3 60. Rf6+ Kg7 61. Rb6 Re3 62. Rb4 Rc3 63. Kf2 Ra3 64. Rb7 Kg8 65. Rb8+ Kg7 66. f5 Ra2+ 67. Ke3 Ra3+ 68. Ke4 Ra4+ 69. Kd5 Ra5+ 70. Kd6 Ra6+ 71. Kc7 Kh7 72. Kd7 Ra7+ 73. Kd6 Kg7 74. Rd8 Ra5 75. f6+ Kh7 76. Rf8 Ra7 77. Kc6 Kg6 78. Rg8+ Kh7 79. Rg7+ Kh8 80. Kb6 Rd7 81. Kc5 Rc7+ 82. Kd6 Ra7 83. e6 Ra6+ 84. Ke7 Rxe6+ 85. Kxf7 Re4 86. g5 hxg5 87. Kg6 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f7,g6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f7-g6}]
\newline
87.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
