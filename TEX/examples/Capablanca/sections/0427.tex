\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Thomas, George Alan $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Thomas, George Alan -- 1-0 -- D30}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A46 -- Indian: 2.Nf3 e6}
\subsubsection{A46 -- Indian: 2.Nf3 e6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. Nf3 e6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pppp1ppp/4pn2/8/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 0 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e7,e6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e7-e6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Ramsgate, Ramsgate schev}}\\ 
\multicolumn{2}{l}{1929 Round 4}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Thomas, George Alan} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. Nf3 e6}\mainline{3. c4 d5 4. Bg5 Nbd7 5. e3 c6 6. Nbd2 Be7 7. Bd3 h6 8. Bh4 O-O 9. O-O Re8 10. Qe2 a6 11. Rac1 Nh7 12. Bg3 Ndf8 13. e4 dxe4 14. Nxe4 Nf6 15. Rfd1 Nxe4 16. Qxe4 Bf6 17. Ne5 Qe7 18. c5 Bd7 19. Nc4 Ng6 20. Nd6 Reb8 21. Nxf7 Qxf7 22. Qxg6 Qxg6 23. Bxg6 Rf8 24. Bd6 Rfc8 25. Rc3 Be8 26. Bxe8 Rxe8 27. Rb3 Ra7 28. f4 Bd8 29. Re1 Kf7 30. a3 Bf6 31. Re4 Rd8 32. Rbe3 Raa8 33. Kf1 Re8 34. Rb3 Ra7 35. Ke2 Rd8 36. Rbe3 Kg8 37. Kd3 Raa8 38. Rxe6 Rd7 39. Re8+ Rxe8 40. Rxe8+ Kf7 41. Rf8+ Kg6 42. g4 Be7 43. f5+ Kg5 44. Rf7 Bxd6 45. Rxd7 Bxh2 46. Rxg7+ Kf6 47. Rg6+ Kf7 48. Ke4 Bg3 49. Rxh6 Be1 50. g5 Bg3 51. Rh7+ Kf8 52. f6 Be1 53. g6 Bg3 54. Rh8# }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={h7,h8},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={h7-h8},
       pgfstyle=circle,
       color=BrickRed,
       markfield={f8}]
\newline
54.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
