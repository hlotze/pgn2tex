\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Marshall, Frank James $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Marshall, Frank James -- 1/2-1/2 -- C42}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C42 -- Russian Game: 5.Qe2, Queenswap}
\subsubsection{C42 -- Russian Game: 5.Qe2, Queenswap}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. Qe2 Qe7 6. d3 Nf6 7. Bg5 Qxe2+}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnb1kb1r/ppp2ppp/3p1n2/6B1/8/3P1N2/PPP1qPPP/RN2KB1R w KQkq - 0 8},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e7,e2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e7-e2},
             pgfstyle=circle,
             color=BrickRed,
             markfield={e1}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1915 Round 2}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Marshall, Frank James} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. Qe2 Qe7 6. d3 Nf6 7. Bg5 Qxe2+}\mainline{8. Bxe2 Be7 9. Nc3 h6 10. Bh4 Be6 11. O-O-O Nc6 12. Rhe1 O-O-O 13. d4 d5 14. Bb5 Nb8 15. Ne5 Bb4 16. Ng6 Rhg8 17. a3 Bd6 18. Bg3 fxg6 19. Rxe6 Bxg3 20. hxg3 Nbd7 21. Rde1 g5 22. Re7 c6 23. Bd3 Rde8 24. Bg6 Rxe7 25. Rxe7 Kd8 26. Re2 Rf8 27. Nd1 Ng8 28. Kd2 Ne7 29. Bd3 Nf5 30. Bxf5 Rxf5}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f8,f5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f8-f5}]
\newline
30. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
