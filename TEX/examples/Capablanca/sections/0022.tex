\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Marshall, Frank James $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Marshall, Frank James -- 1-0 -- C62}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C62 -- Spanish: Old Steinitz, 4.O-O}
\subsubsection{C62 -- Spanish: Old Steinitz, 4.O-O}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Bb5 d6 4. O-O}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkbnr/ppp2ppp/2np4/1B2p3/4P3/5N2/PPPP1PPP/RNBQ1RK1 b kq - 1 4},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e1,g1},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e1-g1}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, USA m}}\\ 
\multicolumn{2}{l}{1909 Round 8}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Marshall, Frank James} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Bb5 d6 4. O-O}\mainline{4...  a6 5. Bxc6+ bxc6 6. d4 exd4 7. Nxd4 Bd7 8. Re1 c5 9. Nf3 Be7 10. Nc3 c6 11. Bf4 Be6 12. Qd3 Nf6 13. Rad1 d5 14. Ng5 d4 15. Nxe6 fxe6 16. Na4 Qa5 17. b3 Rd8 18. Nb2 Nh5 19. Be5 O-O 20. Nc4 Qb4 21. Qh3 g6 22. Qxe6+ Rf7 23. g4 Bh4 24. gxh5 Bxf2+ 25. Kh1 Qc3 26. Re3 Qxc2 27. Red3 Qe2 28. Nd6 Rxd6 29. Bxd6 Be1 30. Qe8+ Kg7 31. h6+ }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={h5,h6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={h5-h6},
       pgfstyle=circle,
       color=BrickRed,
       markfield={g7}]
\newline
31.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
