\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Keres, Paul $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Keres, Paul vs. Capablanca, Jose Raul -- 1/2-1/2 -- B38}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! B20 -- Sicilian: Keres Variation (2.Ne2)}
\subsubsection{B20 -- Sicilian: Keres Variation (2.Ne2)}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 c5 2. Ne2}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPPNPPP/RNBQKB1R b KQkq - 1 2},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g1,e2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g1-e2}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Semmering, Semmering/Baden}}\\ 
\multicolumn{2}{l}{1937 Round 7}\\[3mm]
\textbf{$\square$ \hspace{2mm} Keres, Paul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 c5 2. Ne2}\mainline{2...  d6 3. d4 cxd4 4. Nxd4 Nf6 5. f3 Nc6 6. c4 g6 7. Nc3 Bg7 8. Be3 O-O 9. Qd2 Qa5 10. Nb3 Qb4 11. Qc2 Nd7 12. Bd2 Nc5 13. Nxc5 Qxc5 14. Nd5 a5 15. O-O-O Nb4 16. Nxe7+ Kh8 17. Qb3 Be6 18. a3 Nc6 19. Be3 Qe5 20. Nd5 a4 21. Qc2 Bxd5 22. Rxd5 Qe6 23. Qd2 Rfc8 24. Kb1 Ne5 25. Rxd6 Nxc4 26. Bxc4 Qxc4 27. Rc1 Qxc1+ 28. Qxc1 Rxc1+ 29. Bxc1 Be5 30. Rd7 Bxh2 31. Rxf7 b5 32. f4 Re8 33. e5 g5 34. fxg5 Bxe5 35. Bd2 Rd8 36. Ba5 Rd1+ 37. Kc2 Rg1 38. Rf2 Kg8 39. Bc3 Bxc3 40. Kxc3 Re1 41. Rf5 Re3+ 42. Kc2 Re2+ 43. Kb1 b4 44. axb4 Rxg2 45. Ka2 Rg3 46. Ra5 Kf7 47. Ra7+ Kg6 48. Ra8 Kf7 49. Rxa4 Rxg5 50. Ra5 h6 51. Kb3 Ke7 52. Kc4 Kd6 53. Rc5 Rg8 54. b3 Rf8 55. Rd5+ Kc7 56. Kc5 Rg8}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f8,g8},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f8-g8}]
\newline
56. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
