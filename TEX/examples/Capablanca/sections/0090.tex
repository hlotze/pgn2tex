\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Kupchik, Abraham $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Kupchik, Abraham vs. Capablanca, Jose Raul -- 0-1 -- D25}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D02 -- Queen's Pawn: 2.Nf3 Nf6}
\subsubsection{D02 -- Queen's Pawn: 2.Nf3 Nf6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. Nf3 Nf6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/ppp1pppp/5n2/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 2 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g8,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g8-f6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York Rice}}\\ 
\multicolumn{2}{l}{1913}\\[3mm]
\textbf{$\square$ \hspace{2mm} Kupchik, Abraham} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. Nf3 Nf6}\mainline{3. c4 dxc4 4. e3 a6 5. Bxc4 b5 6. Bd3 Bb7 7. O-O Nbd7 8. Qe2 c5 9. a4 c4 10. Bc2 e6 11. axb5 axb5 12. Rxa8 Qxa8 13. Nbd2 Be7 14. e4 O-O 15. Re1 Rd8 16. e5 Nd5 17. Ne4 Nb4 18. Bb1 Nf8 19. h4 h6 20. h5 Nd7 21. g4 Nd3 22. Bxd3 cxd3 23. Qe3 Bb4 24. Bd2 Bxe4 25. Qxe4 Qxe4 26. Rxe4 Bxd2 27. Nxd2 Nb6 28. Nf3 Nc4 29. Re1 Nxb2 30. Rb1 Na4 31. Rd1 Nc3 32. Rxd3 b4 33. Kg2 g6 34. Rd2 gxh5 35. gxh5 Kh7 36. Rb2 Rg8+ 37. Kf1 Nd5 38. Ne1 Rc8 39. Ke2 Rc3 40. Kd2 b3 41. Rb1 Rh3 42. Nd3 Rxh5 43. Rxb3 Rh4 44. Rb7 Kg6 45. Ke2 Rxd4 46. Nc5 Rc4 47. Nd7 Kf5 48. Kf3 Rc3+ 49. Kg2 Nf4+ 50. Kh2 Nd3 51. Kg2 Rc2 52. Kg3 Nxf2 53. Rb8 Ne4+ 54. Kf3 Rc3+ 55. Kg2 Rg3+ 56. Kh2 Rd3 57. Rb7 Ng5 58. Kg2 h5 59. Nf6 h4 60. Rb5 Rd2+}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={d3,d2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d3-d2},
       pgfstyle=circle,
       color=BrickRed,
       markfield={g2}]
\newline
60. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
