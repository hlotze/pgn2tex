\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Kupchik, Abraham $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Kupchik, Abraham -- 1-0 -- C49}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C49 -- Four Knights: Nimzowitsch (Paulsen) Variation}
\subsubsection{C49 -- Four Knights: Nimzowitsch (Paulsen) Variation}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 Bb4 5. O-O O-O 6. Bxc6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bq1rk1/pppp1ppp/2B2n2/4p3/1b2P3/2N2N2/PPPP1PPP/R1BQ1RK1 b - - 0 6},
             pgfstyle=border,
             color=YellowGreen,
             markfields={b5,c6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b5-c6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Havana, Havana}}\\ 
\multicolumn{2}{l}{1913}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Kupchik, Abraham} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 Bb4 5. O-O O-O 6. Bxc6}\mainline{6...  bxc6 7. Nxe5 Qe8 8. Nd3 Bxc3 9. dxc3 Qxe4 10. Re1 Qh4 11. Qf3 Ba6 12. Bf4 Rac8 13. Be5 Bxd3 14. cxd3 Qg4 15. Bxf6 Qxf3 16. gxf3 gxf6 17. Re4 Rfe8 18. Rae1 Re6 19. R1e3 Rce8 20. Kf1 Kf8 21. Ke2 Ke7 22. Ra4 Ra8 23. Ra5 d5 24. c4 Kd6 25. c5+ Kd7 26. d4 f5 27. Rxe6 fxe6 28. f4 Kc8 29. Kd2 Kb7 30. Ra3 Rg8 31. Rh3 Rg7 32. Ke2 Ka6 33. Rh6 Re7 34. Kd3 Kb7 35. h4 Kc8 36. Rh5 Kd7 37. Rg5 Rf7 38. Kc3 Kc8 39. Kb4 Rf6 40. Ka5 Kb7 41. a4 a6 42. h5 Rh6 43. b4 Rf6 44. b5 axb5 45. axb5 Rf8 46. Rg7 Ra8+ 47. Kb4 cxb5 48. Kxb5 Ra2 49. c6+ Kb8 50. Rxh7 Rb2+ 51. Ka5 Ra2+ 52. Kb4 Rxf2 53. Re7 Rxf4 54. h6 Rxd4+ 55. Kb5 Rd1 56. h7 Rb1+ 57. Kc5 Rc1+ 58. Kd4 Rd1+ 59. Ke5 Re1+ 60. Kf6 Rh1 61. Re8+ Ka7 62. h8=Q Rxh8 63. Rxh8 Kb6 64. Kxe6 Kxc6 65. Kxf5 Kc5 66. Ke5 c6 67. Rh6 Kb5 68. Kd4 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e5,d4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e5-d4}]
\newline
68.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
