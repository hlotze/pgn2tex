\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Farrugia, L. $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Farrugia, L. -- 1-0 -- C28}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C25 -- Vienna: 2...Nc6 3.Bc4}
\subsubsection{C25 -- Vienna: 2...Nc6 3.Bc4}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nc3 Nc6 3. Bc4}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkbnr/pppp1ppp/2n5/4p3/2B1P3/2N5/PPPP1PPP/R1BQK1NR b KQkq - 3 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={f1,c4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f1-c4}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Panama, Panama sim}}\\ 
\multicolumn{2}{l}{1933}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Farrugia, L.} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nc3 Nc6 3. Bc4}\mainline{3...  Nf6 4. d3 Bc5 5. Bg5 Be7 6. f4 d6 7. Nf3 Bg4 8. h3 Bxf3 9. Qxf3 Nd4 10. Qf2 c6 11. O-O Qb6 12. Bb3 Nxb3 13. axb3 Qxf2+ 14. Rxf2 O-O 15. fxe5 dxe5 16. Ra5 b5 17. Bxf6 Bxf6 18. Ra6 Rfc8 19. Rf1 Be7 20. Kf2 Bc5+ 21. Ke2 Rc7 22. Nd1 Rd8 23. Ne3 Bxe3 24. Kxe3 f6 25. Rfa1 Rdd7 26. b4 h6 27. R1a3 Kf7 28. Rc3 Rd6 29. Rc5 Ke7 30. Ra3 Kd7 31. c3 Kc8 32. d4 exd4+ 33. cxd4 Kb7 34. d5 a6 35. Rac3 Kb6 36. Kf4 g6 37. g4 Kb7 38. h4 g5+ 39. hxg5 fxg5+ 40. Ke5 Rg6 41. Kf5 Rd6 42. Rxc6 Rcxc6 43. Rxc6 Rxc6 44. dxc6+ Kxc6 45. Kg6 Kd6 46. Kxh6 Ke5 47. Kxg5 Kxe4 48. Kf6 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={g5,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g5-f6}]
\newline
48.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
