\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Bernstein, Ossip $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Bernstein, Ossip -- 1-0 -- D52}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D02 -- Queen's Pawn: 2.Nf3 Nf6}
\subsubsection{D02 -- Queen's Pawn: 2.Nf3 Nf6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. Nf3 Nf6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/ppp1pppp/5n2/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 2 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g8,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g8-f6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{St Petersburg, St Petersburg prel}}\\ 
\multicolumn{2}{l}{1914}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Bernstein, Ossip} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. Nf3 Nf6}\mainline{3. c4 e6 4. Nc3 Nbd7 5. Bg5 Be7 6. e3 c6 7. Bd3 dxc4 8. Bxc4 b5 9. Bd3 a6 10. e4 e5 11. dxe5 Ng4 12. Bf4 Bc5 13. O-O Qc7 14. Rc1 f6 15. Bg3 fxe5 16. b4 Ba7 17. Bxb5 axb5 18. Nxb5 Qd8 19. Nd6+ Kf8 20. Rxc6 Nb6 21. Bh4 Qd7 22. Nxc8 Qxc6 23. Qd8+ Qe8 24. Be7+ Kf7 25. Nd6+ Kg6 26. Nh4+ Kh5 27. Nxe8 Rxd8 28. Nxg7+ Kh6 29. Ngf5+ Kh5 30. h3 Nc8 31. hxg4+ Kxg4 32. Bxd8 Rxd8 33. g3 Rd2 34. Kg2 Re2 35. a4 Nb6 36. Ne3+ Kh5 37. a5 Nd7 38. Nhf5 Nf6 39. b5 Bd4 40. Kf3 Ra2 41. a6 Ba7 42. Rc1 Rb2 43. g4+ Kg6 44. Rc7 Rxf2+ 45. Kxf2 Nxg4+ 46. Kf3 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f2,f3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f2-f3}]
\newline
46.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
