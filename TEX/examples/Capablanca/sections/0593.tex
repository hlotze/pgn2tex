\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Thomas, George Alan $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Thomas, George Alan -- 1-0 -- C76}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C76 -- Spanish: Modern Steinitz, Bronstein Variation}
\subsubsection{C76 -- Spanish: Modern Steinitz, Bronstein Variation}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3 Bd7 6. d4 g6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r2qkbnr/1ppb1p1p/p1np2p1/4p3/B2PP3/2P2N2/PP3PPP/RNBQK2R w KQkq - 0 7},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g7,g6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g7-g6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Margate, Margate}}\\ 
\multicolumn{2}{l}{1939 Round 8}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Thomas, George Alan} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3 Bd7 6. d4 g6}\mainline{7. Bg5 f6 8. Be3 Nh6 9. h3 Bg7 10. Nbd2 Nf7 11. g4 Qe7 12. d5 Nb8 13. Bc2 c5 14. a4 Bc8 15. Nc4 Nd7 16. a5 Bh6 17. Bxh6 Nxh6 18. Qd2 Nf7 19. Rg1 O-O 20. h4 Rb8 21. g5 fxg5 22. hxg5 Nd8 23. Rg3 Rf4 24. Ne3 Nf8 25. Bd3 Bd7 26. Ke2 b5 27. axb6 Rxb6 28. Qc2 Bc8 29. Ra4 Nf7 30. b3 h5 31. gxh6 Nxh6 32. Ra1 Ng4 33. Rag1 Nxe3 34. fxe3 Rf7 35. Ng5 Rg7 36. Bc4 Nh7 37. Kd3 Nxg5 38. Rxg5 Bd7 39. Rxg6 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={g5,g6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g5-g6}]
\newline
39.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
