\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Alekhine, Alexander $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Alekhine, Alexander -- 1/2-1/2 -- D51}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D51 -- QGD: 4.Bg5 Nbd7 5.e3 c6}
\subsubsection{D51 -- QGD: 4.Bg5 Nbd7 5.e3 c6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Nbd7 5. e3 c6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkb1r/pp1n1ppp/2p1pn2/3p2B1/2PP4/2N1P3/PP3PPP/R2QKBNR w KQkq - 0 6},
             pgfstyle=border,
             color=YellowGreen,
             markfields={c7,c6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c7-c6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Buenos Aires, World Championship 13th}}\\ 
\multicolumn{2}{l}{1927 Round 33}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Alekhine, Alexander} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Nbd7 5. e3 c6}\mainline{6. Bd3 Qa5 7. Bh4 dxc4 8. Bxc4 b5 9. Bd3 Bb7 10. Ne2 a6 11. Bxf6 Nxf6 12. a3 Qb6 13. Ne4 Nxe4 14. Bxe4 c5 15. dxc5 Bxc5 16. Bxb7 Qxb7 17. O-O O-O 18. Rc1 Rac8}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={a8,c8},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={a8-c8}]
\newline
18. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
