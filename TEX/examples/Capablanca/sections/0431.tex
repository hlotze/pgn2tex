\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Colle, Edgar $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Colle, Edgar -- 1-0 -- E34}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! E34 -- Nimzo-Indian: Classical, Noa, 5.cxd5 Qxd5 6.Nf3}
\subsubsection{E34 -- Nimzo-Indian: Classical, Noa, 5.cxd5 Qxd5 6.Nf3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 d5 5. cxd5 Qxd5 6. Nf3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnb1k2r/ppp2ppp/4pn2/3q4/1b1P4/2N2N2/PPQ1PPPP/R1B1KB1R b KQkq - 1 6},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g1,f3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g1-f3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Hastings, Hastings 3031}}\\ 
\multicolumn{2}{l}{1930 Round 1}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Colle, Edgar} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 d5 5. cxd5 Qxd5 6. Nf3}\mainline{6...  O-O 7. Bd2 Bxc3 8. bxc3 Nbd7 9. e3 c5 10. c4 Qd6 11. Rd1 b6 12. Bc3 h6 13. Be2 Bb7 14. O-O Qc6 15. dxc5 bxc5 16. Qb2 Rab8 17. Qa1 Ng4 18. Rxd7 Qxd7 19. Bxg7 Qc7 20. Bxf8 Rxf8 21. g3 f6 22. Nh4 Ne5 23. f4 Qc6 24. Kf2 Qe4 25. Qb1 Qxb1 26. Rxb1 Be4 27. Rb3 Nd7 28. Ra3 Ra8 29. Ra5 Kf7 30. Nf3 Ke7 31. Nd2 Bc6 32. Bf3 Bxf3 33. Kxf3 Kd6 34. Ne4+ Kc6 35. Ra6+ Nb6 36. Nxf6 Kb7 37. Ra5 Rc8 38. Ne4 Nxc4 39. Rb5+ }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={a5,b5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={a5-b5},
       pgfstyle=circle,
       color=BrickRed,
       markfield={b7}]
\newline
39.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
