\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Marshall, Frank James $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Marshall, Frank James -- 1/2-1/2 -- C66}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C62 -- Spanish: Old Steinitz, 4.d4 Bd7 5.Nc3}
\subsubsection{C62 -- Spanish: Old Steinitz, 4.d4 Bd7 5.Nc3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Bb5 d6 4. d4 Bd7 5. Nc3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r2qkbnr/pppb1ppp/2np4/1B2p3/3PP3/2N2N2/PPP2PPP/R1BQK2R b KQkq - 2 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={b1,c3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b1-c3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, USA m}}\\ 
\multicolumn{2}{l}{1909 Round 4}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Marshall, Frank James} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Bb5 d6 4. d4 Bd7 5. Nc3}\mainline{5...  Nf6 6. O-O Be7 7. Re1 Nxd4 8. Nxd4 exd4 9. Qxd4 Bxb5 10. Nxb5 O-O 11. Bg5 h6 12. Bh4 Re8 13. c4 Nd7 14. Bxe7 Rxe7 15. Rad1 Re6 16. f4 a6 17. Nc3 Nf6 18. Nd5 Nxd5 19. exd5 Re7}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e6,e7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e6-e7}]
\newline
19. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
