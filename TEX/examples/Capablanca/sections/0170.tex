\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Kostic, Boris $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Kostic, Boris -- 1/2-1/2 -- C42}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C42 -- Russian Game: Classical, Jänisch Variation}
\subsubsection{C42 -- Russian Game: Classical, Jänisch Variation}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. d4 d5 6. Bd3 Be7 7. O-O Nc6 8. c4}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqk2r/ppp1bppp/2n5/3p4/2PPn3/3B1N2/PP3PPP/RNBQ1RK1 b kq - 0 8},
             pgfstyle=border,
             color=YellowGreen,
             markfields={c2,c4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c2-c4}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1918}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Kostic, Boris} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. d4 d5 6. Bd3 Be7 7. O-O Nc6 8. c4}\mainline{8...  Nf6 9. cxd5 Nxd5 10. Nc3 O-O 11. Re1 Be6 12. Ne4 Nf6 13. Nfg5 Bf5 14. Nxf6+ Bxf6 15. Bxf5 Bxg5 16. d5 Nb4 17. Re4 a5 18. Qh5 h6 19. Rg4 Bxc1 20. Rxc1 Ra6 21. Be4 f5 22. Bxf5 Qxd5 23. Rxg7+ Kxg7 24. Qg4+ Kh8 25. Rxc7 Qg8 26. Rh7+ Qxh7 27. Bxh7 Kxh7 28. Qd7+ Kg8 29. a3 Rc6 30. h4 Na6 31. Qxb7 Rff6 32. Qb5 Rc5 33. Qe8+ Kg7 34. Qe7+ Rf7 35. Qd6 Rc1+ 36. Kh2 Nc5 37. h5 Rf6 38. Qc7+ Rf7 39. Qg3+ Kf8 40. Qd6+ Kg8 41. Qxh6 Rc4 42. Qg5+ Kf8 43. b3 Rc2 44. Qd8+ Kg7 45. Qd4+ Kh7 46. b4 axb4 47. axb4 Rfxf2 48. bxc5 Rxg2+ 49. Kh3 Rgd2 50. Qe4+ Kg7 51. c6 Rc3+ 52. Kg4 Rdc2 53. Qe5+ Kh7 54. Qe7+ Kh6 55. Qf8+ Kh7 56. h6 Rg2+}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={c2,g2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c2-g2},
       pgfstyle=circle,
       color=BrickRed,
       markfield={g4}]
\newline
56. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
