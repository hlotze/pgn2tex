\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Kan, Ilia Abramovich $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Kan, Ilia Abramovich vs. Capablanca, Jose Raul -- 0-1 -- C25}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C25 -- Vienna: 2...Bc5 3.Nf3}
\subsubsection{C25 -- Vienna: 2...Bc5 3.Nf3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nc3 Bc5 3. Nf3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqk1nr/pppp1ppp/8/2b1p3/4P3/2N2N2/PPPP1PPP/R1BQKB1R b KQkq - 3 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g1,f3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g1-f3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Moscow, Moscow}}\\ 
\multicolumn{2}{l}{1936}\\[3mm]
\textbf{$\square$ \hspace{2mm} Kan, Ilia Abramovich} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nc3 Bc5 3. Nf3}\mainline{3...  d6 4. Na4 Bb6 5. Nxb6 axb6 6. d4 exd4 7. Qxd4 Qf6 8. Bg5 Qxd4 9. Nxd4 Bd7 10. Bc4 Ne7 11. O-O Ng6 12. a3 O-O 13. Rad1 Nc6 14. Nxc6 bxc6 15. Bd2 Ra4 16. Bd3 Ne5 17. Bc3 f6 18. f3 Re8 19. Rf2 Bc8 20. Bf1 Ba6 21. Bxa6 Rxa6 22. Bxe5 fxe5 23. Rd3 b5 24. Rfd2 c5 25. Kf2 Ra4 26. Ke3 Kf7 27. Rd1 Ke6 28. Kd2 Rb8 29. Rc3 g5 30. h3 h5 31. Rh1 Rd4+ 32. Ke2 Rg8 33. Rd3 Ra4 34. Rhd1 g4 35. hxg4 hxg4 36. Ke3 Rh8 37. Rb3 Rh2 38. Rd2 Rd4 39. Re2 c6 40. Rc3 g3 41. Rd3 Rh1 42. f4 Rf1 43. f5+ Kf6 44. c3 Rxd3+ 45. Kxd3 d5 46. b3 c4+ 47. bxc4 bxc4+ 48. Ke3 Ra1 49. Kf3 Rxa3 50. Kxg3 Rxc3+ 51. Kh4 Rc1 52. g4 Rh1+ 53. Kg3 d4 54. Ra2 d3 55. Kg2 Re1 56. Kf2 Rxe4 57. Kf3 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f2,f3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f2-f3}]
\newline
57.\,\xskakget{lan} ...
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
