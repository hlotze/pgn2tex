\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Corzo y Prinzipe, Juan $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Corzo y Prinzipe, Juan -- 0-1 -- C47}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C45 -- Scotch: 4.Nxd4 Nf6}
\subsubsection{C45 -- Scotch: 4.Nxd4 Nf6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. d4 exd4 4. Nxd4 Nf6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkb1r/pppp1ppp/2n2n2/8/3NP3/8/PPP2PPP/RNBQKB1R w KQkq - 1 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g8,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g8-f6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Havana, Havana m}}\\ 
\multicolumn{2}{l}{1901 Round 1}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Corzo y Prinzipe, Juan} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. d4 exd4 4. Nxd4 Nf6}\mainline{5. Nc3 Bb4 6. Nxc6 bxc6 7. Qd3 O-O 8. Bd2 Bxc3 9. Bxc3 Nxe4 10. Qxe4 Re8 11. Be5 f6 12. O-O-O fxe5 13. Bd3 Qg5+ 14. Kb1 Qh6 15. c4 Bb7 16. Qf5 d5 17. g4 Bc8 18. Qh5 Qxh5 19. gxh5 Bg4 20. Rc1 e4 21. Bf1 d4 22. h6 g6 23. Rg1 Bh5 24. Kc2 Rf8 25. Rg2 Rf5 26. Re1 Raf8 27. Rxe4 Bf3 28. Kd3 Bxe4+ 29. Kxe4 Rf4+}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f5,f4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f5-f4},
       pgfstyle=circle,
       color=BrickRed,
       markfield={e4}]
\newline
29. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
