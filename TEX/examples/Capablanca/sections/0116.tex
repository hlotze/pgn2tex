\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Lasker, Emanuel $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Lasker, Emanuel -- 1/2-1/2 -- C49}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C49 -- Four Knights: Symmetrical, 7.Bg5 Bxc3 8.bxc3 h6}
\subsubsection{C49 -- Four Knights: Symmetrical, 7.Bg5 Bxc3 8.bxc3 h6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 Bb4 5. O-O O-O 6. d3 d6 7. Bg5 Bxc3 8. bxc3 h6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bq1rk1/ppp2pp1/2np1n1p/1B2p1B1/4P3/2PP1N2/P1P2PPP/R2Q1RK1 w - - 0 9},
             pgfstyle=border,
             color=YellowGreen,
             markfields={h7,h6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={h7-h6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{St Petersburg, St Petersburg prel}}\\ 
\multicolumn{2}{l}{1914}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Lasker, Emanuel} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 Bb4 5. O-O O-O 6. d3 d6 7. Bg5 Bxc3 8. bxc3 h6}\mainline{9. Bh4 Bg4 10. h3 Bxf3 11. Qxf3 g5 12. Bg3 Nd7 13. d4 f6 14. Qg4 Kh8 15. h4 Rf7 16. hxg5 hxg5 17. f3 Nf8 18. Kf2 Rh7 19. Rh1 Qe7 20. Qf5 Rd8 21. Rxh7+ Nxh7 22. Rh1 Rg8 23. Bxc6 bxc6 24. Rb1 Kg7 25. Rb7 Ra8 26. Kg1 Nf8 27. d5 c5 28. Bf2 Qd8 29. g3 Rb8 30. Rb3 Rxb3 31. cxb3 Qd7 32. Qxd7+ Nxd7 33. Kf1 Kg6 34. Ke2 f5 35. g4 fxe4 36. fxe4 Nf6 37. Kf3 Kf7 38. Be3 Nh7 39. b4 cxb4 40. cxb4 a6 41. a4 Ke7 42. b5 axb5 43. axb5 Kd7 44. Bf2 Kc8 45. Be3 Kd7 46. Bf2 Kc8 47. Be3 Kd7 48. Bf2 Kc8 49. Be3 Kd7}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={c8,d7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c8-d7}]
\newline
49. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
