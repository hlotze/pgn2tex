\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Kostic, Boris $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Kostic, Boris -- 1-0 -- C42}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C42 -- Russian Game: 5.Qe2, Queenswap}
\subsubsection{C42 -- Russian Game: 5.Qe2, Queenswap}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. Qe2 Qe7 6. d3 Nf6 7. Bg5 Qxe2+}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnb1kb1r/ppp2ppp/3p1n2/6B1/8/3P1N2/PPP1qPPP/RN2KB1R w KQkq - 0 8},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e7,e2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e7-e2},
             pgfstyle=circle,
             color=BrickRed,
             markfield={e1}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Havana, Havana m}}\\ 
\multicolumn{2}{l}{1919 Round 1}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Kostic, Boris} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nf3 Nxe4 5. Qe2 Qe7 6. d3 Nf6 7. Bg5 Qxe2+}\mainline{8. Bxe2 Be7 9. Nc3 Bd7 10. O-O O-O 11. Rfe1 Nc6 12. d4 Rfe8 13. Bb5 a6 14. Ba4 b5 15. Bb3 Na5 16. Re3 c6 17. Rae1 Kf8 18. Bf4 Nb7 19. h3 h6 20. Bh2 Bd8 21. Rxe8+ Bxe8 22. a4 c5 23. Ne4 Nxe4 24. Bd5 Ra7 25. Bxe4 Be7 26. axb5 axb5 27. dxc5 dxc5 28. Bb8 Ra8 29. Bg3 Ra7 30. Bb8 Ra8 31. Bg3 Ra7 32. Ne5 Nd8 33. b3 Ne6 34. Bd5 Nd4 35. c3 Nf5 36. Bh2 b4 37. g4 Nd6 38. c4 Ra3 39. Re3 Nc8 40. Bb7 Na7 41. Bd5 f6 42. Nf3 Nc6 43. Nh4 Nd4 44. Nf5 Nxf5 45. gxf5 Bd7 46. Be4 Ra6 47. Rd3 Bc6 48. Bxc6 Rxc6 49. Kg2 Ra6 50. Kf3 Ra2 51. Bg3 Ke8 52. Bf4 Ra6 53. Be3 Ra1 54. Kg4 Ra7 55. Kh5 Kf7 56. Rd5 Ra3 57. Rd7 Ke8 58. Rd3 Kf7 59. h4 Ra7 60. Rd5 Ra5 61. Rd7 Ke8 62. Rd3 Kf7 63. Rd5 Ra3 64. Bxc5 Bxc5 65. Rxc5 Rxb3 66. Rc7+ Kf8 67. Kg6 Rf3 68. Rf7+ Ke8 69. Rxg7 Rf4 70. h5 Rxc4 71. Kxh6 Kf8 72. Rb7 Rg4 73. f3 Rg5 74. Rxb4 Kf7 75. Rg4 Rxf5 76. f4 Ra5 77. Rg7+ Kf8 78. Rb7 f5 79. Kg6 Ra6+ 80. Kxf5 Ra5+ 81. Kg4 Ra6 82. Kg5 Rc6 83. f5 Kg8 84. f6 Rc8 85. Rg7+ Kf8 86. h6 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={h5,h6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={h5-h6}]
\newline
86.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
