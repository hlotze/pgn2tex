\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Keres, Paul $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Keres, Paul -- 1/2-1/2 -- E42}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A40 -- Queen's Pawn: Keres Defence}
\subsubsection{A40 -- Queen's Pawn: Keres Defence}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 e6 2. c4 Bb4+}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqk1nr/pppp1ppp/4p3/8/1bPP4/8/PP2PPPP/RNBQKBNR w KQkq - 1 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={f8,b4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f8-b4},
             pgfstyle=circle,
             color=BrickRed,
             markfield={e1}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Holland, AVRO}}\\ 
\multicolumn{2}{l}{1938}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Keres, Paul} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 e6 2. c4 Bb4+}\mainline{3. Nc3 c5 4. e3 Nf6 5. Ne2 cxd4 6. exd4 O-O 7. a3 Be7 8. Nf4 d5 9. cxd5 Nxd5 10. Nfxd5 exd5 11. Qb3 Nc6 12. Be3 Bf6 13. Rd1 Bg4 14. Be2 Bxe2 15. Kxe2 Re8 16. Kf1 Ne7 17. g3 Qd7 18. Kg2 Rad8 19. Qb5 Nf5 20. Qxd7 Rxd7 21. Rd3 h6 22. h4 Rc8 23. h5 b5 24. g4 Nxe3+ 25. fxe3 a5 26. b4 axb4 27. axb4 Be7 28. Rb1 Rc4 29. Nxb5 Rxb4 30. Rxb4 Bxb4 31. Kf3 g6 32. Rb3 Ba5 33. Ra3 Bd2 34. Ke2 Rb7 35. Nd6 Rb2 36. Ra8+ Kh7 37. Nxf7 gxh5 38. Ne5 Bc1+ 39. Kd3 Rd2+ 40. Kc3 Rg2 41. gxh5 Bxe3 42. Ra7+ }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={a8,a7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={a8-a7},
       pgfstyle=circle,
       color=BrickRed,
       markfield={h7}]
\newline
42.\,\xskakget{lan} ...
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
