\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Flohr, Salo $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Flohr, Salo -- 1/2-1/2 -- D45}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A06 -- Reti Opening: 1...d5 2.e3}
\subsubsection{A06 -- Reti Opening: 1...d5 2.e3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. Nf3 d5 2. e3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkbnr/ppp1pppp/8/3p4/8/4PN2/PPPP1PPP/RNBQKB1R b KQkq - 0 2},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e2,e3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e2-e3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Moscow, Moscow}}\\ 
\multicolumn{2}{l}{1936}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Flohr, Salo} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. Nf3 d5 2. e3}\mainline{2...  Nf6 3. b3 e6 4. Bb2 Nbd7 5. c4 c6 6. Nc3 Bd6 7. d4 O-O 8. Qc2 Qe7 9. Be2 b6 10. O-O Bb7 11. Rad1 Rac8 12. e4 dxe4 13. Nxe4 Nxe4 14. Qxe4 Rfd8 15. Bd3 Nf8 16. Rfe1 Qf6 17. Qg4 c5 18. Be4 Bxe4 19. Qxe4 Qg6 20. Qxg6 Nxg6 21. d5 exd5 22. Rxd5 Bc7 23. Rxd8+ Rxd8 24. g3 f6}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f7,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f7-f6}]
\newline
24. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
