\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Janowsky, Dawid Markelowicz $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Janowsky, Dawid Markelowicz vs. Capablanca, Jose Raul -- 0-1 -- D30}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A46 -- Indian: 2.Nf3}
\subsubsection{A46 -- Indian: 2.Nf3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. Nf3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pppppppp/5n2/8/3P4/5N2/PPP1PPPP/RNBQKB1R b KQkq - 2 2},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g1,f3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g1-f3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1918}\\[3mm]
\textbf{$\square$ \hspace{2mm} Janowsky, Dawid Markelowicz} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. Nf3}\mainline{2...  d5 3. c4 e6 4. Bg5 dxc4 5. e3 c5 6. Nc3 a6 7. a4 cxd4 8. exd4 Bb4 9. Bxc4 Qc7 10. Qe2 Ne4 11. O-O Nxg5 12. Nxg5 Qe7 13. Qh5 g6 14. Qh6 Qf8 15. Qh4 Be7 16. Qg3 Bxg5 17. Qxg5 Nd7 18. Nd5 Qd6 19. Rfe1 O-O 20. Nf6+ Nxf6 21. Qxf6 Qd8 22. Qe5 Bd7 23. d5 exd5 24. Bxd5 Bc6 25. Bxc6 bxc6 26. Rad1 Qb6 27. h4 Rab8 28. h5 Qxb2 29. Rd4 Rfe8 30. Qxe8+ Rxe8 31. Rxe8+ Kg7 32. Rh4 Qc1+ 33. Kh2 Qh6 34. f4 gxh5 35. Re5 Qd6 36. g3 h6 37. Rhxh5 Kg6 38. g4 f6 39. Ref5 Qd2+ 40. Kg3 Qd3+ 41. Kf2 Qd2+ 42. Kg3 Qe1+ 43. Kg2 Qd1 44. Kg3 Qb3+ 45. Kf2 Qxa4 46. Kg3 Qb3+ 47. Kf2 Qc2+ 48. Kg3 Qe2 49. Rh2 Qe3+ 50. Kh4 c5 51. Rc2 c4 52. Ra2 c3 53. Rg2 Qe4 54. Rg1 Qe2 55. Rg3 c2}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={c3,c2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c3-c2}]
\newline
55. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
