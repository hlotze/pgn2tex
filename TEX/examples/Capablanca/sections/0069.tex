\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Rubinstein, Akiba $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Rubinstein, Akiba vs. Capablanca, Jose Raul -- 1-0 -- D33}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D02 -- Queen's Pawn: Krause, 3.c4}
\subsubsection{D02 -- Queen's Pawn: Krause, 3.c4}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. Nf3 c5 3. c4}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkbnr/pp2pppp/8/2pp4/2PP4/5N2/PP2PPPP/RNBQKB1R b KQkq - 0 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={c2,c4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c2-c4}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{San Sebastian, San Sebastian}}\\ 
\multicolumn{2}{l}{1911 Round 13}\\[3mm]
\textbf{$\square$ \hspace{2mm} Rubinstein, Akiba} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. Nf3 c5 3. c4}\mainline{3...  e6 4. cxd5 exd5 5. Nc3 Nc6 6. g3 Be6 7. Bg2 Be7 8. O-O Rc8 9. dxc5 Bxc5 10. Ng5 Nf6 11. Nxe6 fxe6 12. Bh3 Qe7 13. Bg5 O-O 14. Bxf6 Qxf6 15. Nxd5 Qh6 16. Kg2 Rcd8 17. Qc1 exd5 18. Qxc5 Qd2 19. Qb5 Nd4 20. Qd3 Qxd3 21. exd3 Rfe8 22. Bg4 Rd6 23. Rfe1 Rxe1 24. Rxe1 Rb6 25. Re5 Rxb2 26. Rxd5 Nc6 27. Be6+ Kf8 28. Rf5+ Ke8 29. Bf7+ Kd7 30. Bc4 a6 31. Rf7+ Kd6 32. Rxg7 b5 33. Bg8 a5 34. Rxh7 a4 35. h4 b4 36. Rh6+ Kc5 37. Rh5+ Kb6 38. Bd5 b3 39. axb3 a3 40. Bxc6 Rxb3 41. Bd5 a2 42. Rh6+ }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={h5,h6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={h5-h6},
       pgfstyle=circle,
       color=BrickRed,
       markfield={b6}]
\newline
42.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
