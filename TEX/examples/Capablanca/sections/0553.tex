\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Ragozin, Viacheslav $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Ragozin, Viacheslav vs. Capablanca, Jose Raul -- 0-1 -- D18}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D18 -- Slav: Dutch, 8...O-O 9.Qb3}
\subsubsection{D18 -- Slav: Dutch, 8...O-O 9.Qb3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. Nc3 dxc4 5. a4 Bf5 6. e3 e6 7. Bxc4 Bb4 8. O-O O-O 9. Qb3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rn1q1rk1/pp3ppp/2p1pn2/5b2/PbBP4/1QN1PN2/1P3PPP/R1B2RK1 b - - 4 9},
             pgfstyle=border,
             color=YellowGreen,
             markfields={d1,b3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d1-b3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Semmering, Semmering/Baden}}\\ 
\multicolumn{2}{l}{1937 Round 12}\\[3mm]
\textbf{$\square$ \hspace{2mm} Ragozin, Viacheslav} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. Nc3 dxc4 5. a4 Bf5 6. e3 e6 7. Bxc4 Bb4 8. O-O O-O 9. Qb3}\mainline{9...  Qe7 10. Ne5 c5 11. Na2 Ba5 12. Qb5 b6 13. f3 cxd4 14. e4 Bg6 15. Bg5 a6 16. Qb3 Qc5 17. Bxf6 gxf6 18. Nd3 Qd6 19. Qd1 Rc8 20. b3 Nd7 21. Qe2 Nc5 22. Nxc5 Qxc5 23. Bd3 f5 24. Rab1 fxe4 25. fxe4 Bc3 26. b4 Qe5 27. Nc1 a5 28. bxa5 Bxa5 29. Rb5 Rc5 30. Qf3 Rxb5 31. axb5 Bd2 32. Ne2 Be3+ 33. Kh1 Ra3 34. Rd1 h5 35. h3 Rxd3 36. Rxd3 Bxe4 37. Rxe3 dxe3 38. Qf1 Qxb5 39. Qf4 Bxg2+ 40. Kxg2 Qxe2+}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={b5,e2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b5-e2},
       pgfstyle=circle,
       color=BrickRed,
       markfield={g2}]
\newline
40. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
