\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Kupchik, Abraham $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Kupchik, Abraham vs. Capablanca, Jose Raul -- 0-1 -- A47}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A46 -- Indian: 1.d4 Nf6 2.Nf3 e6 3.e3}
\subsubsection{A46 -- Indian: 1.d4 Nf6 2.Nf3 e6 3.e3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. Nf3 e6 3. e3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pppp1ppp/4pn2/8/3P4/4PN2/PPP2PPP/RNBQKB1R b KQkq - 0 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e2,e3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e2-e3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Lake Hopatcong, Lake Hopatcong}}\\ 
\multicolumn{2}{l}{1926 Round 2}\\[3mm]
\textbf{$\square$ \hspace{2mm} Kupchik, Abraham} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. Nf3 e6 3. e3}\mainline{3...  b6 4. Bd3 Bb7 5. O-O Ne4 6. Nbd2 f5 7. c3 Be7 8. Qc2 d5 9. Ne5 O-O 10. f3 Nxd2 11. Bxd2 Nd7 12. Nxd7 Qxd7 13. Rae1 c5 14. Qd1 Rf6 15. Qe2 Raf8 16. Bb5 Qc7 17. f4 c4 18. Kh1 Bd6 19. Rf3 h5 20. Ref1 Rh6 21. Be1 g6 22. Bh4 Kf7 23. Qe1 a6 24. Ba4 b5 25. Bd1 Bc6 26. Rh3 a5 27. Bg5 Rhh8 28. Qh4 b4 29. Qe1 Rb8 30. Rhf3 a4 31. R3f2 a3 32. b3 cxb3 33. Bxb3 Bb5 34. Rg1 Qxc3 35. Qxc3 bxc3 36. Rc2 Rhc8 37. Bh4 Bd3 38. Rcc1 Rxb3 39. axb3 a2}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={a3,a2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={a3-a2}]
\newline
39. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
