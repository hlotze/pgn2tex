\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Lasker, Emanuel $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Lasker, Emanuel -- 1-0 -- D13}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A50 -- Indian: Slav-Indian, 1.d4 Nf6 2.c4 c6 3.Nc3 3.Nc3}
\subsubsection{A50 -- Indian: Slav-Indian, 1.d4 Nf6 2.c4 c6 3.Nc3 3.Nc3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. c4 c6 3. Nc3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pp1ppppp/2p2n2/8/2PP4/2N5/PP2PPPP/R1BQKBNR b KQkq - 1 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={b1,c3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b1-c3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1924}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Lasker, Emanuel} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. c4 c6 3. Nc3}\mainline{3...  d5 4. cxd5 cxd5 5. Nf3 Nc6 6. Bf4 e6 7. e3 Be7 8. Bd3 O-O 9. O-O Nh5 10. Be5 f5 11. Rc1 Nf6 12. Bxf6 gxf6 13. Nh4 Kh8 14. f4 Rg8 15. Rf3 Bd7 16. Rh3 Be8 17. a3 Rg7 18. Rg3 Rxg3 19. hxg3 Rc8 20. Kf2 Na5 21. Qf3 Nc4 22. Qe2 Nd6 23. Rh1 Ne4+ 24. Bxe4 fxe4 25. Qg4 f5 26. Nxf5 exf5 27. Qxf5 h5 28. g4 Rc6 29. g5 Kg8 30. Nxd5 Bf7 31. Nxe7+ Qxe7 32. g4 hxg4 33. Qh7+ Kf8 34. Rh6 Bg8 35. Qf5+ Kg7 36. Rxc6 bxc6 37. Kg3 Qe6 38. Kxg4 Qxf5+ 39. Kxf5 Bd5 40. b4 a6 41. Kg4 Bc4 42. f5 Bb3 43. Kf4 Bc2 44. Ke5 Kf7 45. a4 Kg7 46. d5 Bxa4 47. d6 c5 48. bxc5 Bc6 49. Ke6 a5 50. f6+ }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f5,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f5-f6},
       pgfstyle=circle,
       color=BrickRed,
       markfield={g7}]
\newline
50.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
