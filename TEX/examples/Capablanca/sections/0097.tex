\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Janowsky, Dawid Markelowicz $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Janowsky, Dawid Markelowicz -- 1-0 -- C48}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C48 -- Four Knights: Spanish, Ranken Variation}
\subsubsection{C48 -- Four Knights: Spanish, Ranken Variation}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 a6 5. Bxc6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkb1r/1ppp1ppp/p1B2n2/4p3/4P3/2N2N2/PPPP1PPP/R1BQK2R b KQkq - 0 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={b5,c6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b5-c6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York National}}\\ 
\multicolumn{2}{l}{1913 Round 3}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Janowsky, Dawid Markelowicz} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 a6 5. Bxc6}\mainline{5...  dxc6 6. O-O Bg4 7. h3 Bh5 8. Qe2 Bd6 9. d3 Qe7 10. Nd1 O-O-O 11. Ne3 Bg6 12. Nh4 Rhg8 13. Nef5 Qe6 14. f4 Bxf5 15. Nxf5 exf4 16. Bxf4 Bc5+ 17. Be3 Bf8 18. Qf2 Rd7 19. Bc5 Bxc5 20. Qxc5 Kb8 21. Rf2 Ne8 22. Raf1 f6 23. b3 Nd6 24. Rf4 Nxf5 25. Qxf5 Qxf5 26. Rxf5 Re8 27. g4 b6 28. b4 Kb7 29. Kf2 b5 30. a4 Rd4 31. Rb1 Re5 32. Ke3 Rd7 33. a5 Re6 34. Rbf1 Rde7 35. g5 fxg5 36. Rxg5 Rh6 37. Rg3 Rhe6 38. h4 g6 39. Rg5 h6 40. Rg4 Rg7 41. d4 Kc8 42. Rf8+ Kb7 43. e5 g5 44. Ke4 Ree7 45. hxg5 hxg5 46. Rf5 Kc8 47. Rgxg5 Rh7 48. Rh5 Kd7 49. Rxh7 Rxh7 50. Rf8 Rh4+ 51. Kd3 Rh3+ 52. Kd2 c5 53. bxc5 Ra3 54. d5 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={d4,d5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d4-d5}]
\newline
54.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
