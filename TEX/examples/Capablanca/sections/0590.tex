\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Menchik, Vera $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Menchik, Vera -- 1-0 -- D34}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D34 -- QGD Tarrasch: Reti Variation}
\subsubsection{D34 -- QGD Tarrasch: Reti Variation}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7 8. O-O O-O 9. dxc5 Bxc5 10. Na4}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bq1rk1/pp3ppp/2n2n2/2bp4/N7/5NP1/PP2PPBP/R1BQ1RK1 b - - 1 10},
             pgfstyle=border,
             color=YellowGreen,
             markfields={c3,a4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c3-a4}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Margate, Margate}}\\ 
\multicolumn{2}{l}{1939 Round 5}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Menchik, Vera} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7 8. O-O O-O 9. dxc5 Bxc5 10. Na4}\mainline{10...  Be7 11. Be3 Ne4 12. Rc1 Be6 13. a3 Qd7 14. Nc5 Nxc5 15. Bxc5 Rfc8 16. Qd2 Bxc5 17. Rxc5 Ne7 18. Rxc8+ Rxc8 19. Nd4 Bh3 20. Rd1 Bxg2 21. Kxg2 h6 22. Qf4 a6 23. Rd3 Rc4 24. b3 Rc8 25. Re3 Kf8 26. h4 Kg8 27. h5 Rd8 28. Rf3 Rf8 29. b4 Kh7 30. Rc3 Nc6 31. Nf5 Re8 32. Qg4 g6 33. hxg6+ fxg6 34. Nxh6 Qxg4 35. Nxg4 Rxe2 36. Nf6+ Kh6 37. Nxd5 Rb2 38. Ne3 a5 39. bxa5 Nxa5 40. Ng4+ Kg5 41. Kh3 b6 42. Rf3 Rb1 43. Rf7 Rh1+ 44. Kg2 Rc1 45. Ne5 Nc4 46. f4+ Kh6 47. Ng4+ }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e5,g4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e5-g4},
       pgfstyle=circle,
       color=BrickRed,
       markfield={h6}]
\newline
47.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
