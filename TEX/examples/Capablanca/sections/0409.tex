\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Thomas, George Alan $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Thomas, George Alan -- 1/2-1/2 -- D30}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! E10 -- Neo-Indian: 3.Nf3}
\subsubsection{E10 -- Neo-Indian: 3.Nf3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. c4 e6 3. Nf3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pppp1ppp/4pn2/8/2PP4/5N2/PP2PPPP/RNBQKB1R b KQkq - 1 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g1,f3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g1-f3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Karlsbad, Karlsbad}}\\ 
\multicolumn{2}{l}{1929}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Thomas, George Alan} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. c4 e6 3. Nf3}\mainline{3...  d5 4. Bg5 Nbd7 5. e3 h6 6. Bh4 c6 7. Nbd2 Be7 8. Bd3 O-O 9. O-O c5 10. Rc1 b6 11. cxd5 exd5 12. dxc5 Nxc5 13. Be2 Nfe4 14. Bxe7 Qxe7 15. Nd4 Nxd2 16. Qxd2 Bb7 17. Qc3 Qf6 18. Nf3 Qxc3 19. Rxc3 Rfc8 20. Nd4 Ne6 21. Nf5 Rxc3 22. bxc3 Nc5 23. Bf3 Ne4 24. Bxe4 dxe4 25. Rd1 Kf8 26. Rd7 Bc6 27. Rc7 Bd5 28. c4 Be6 29. Nd4 Re8 30. h3 Re7 31. Nxe6+ fxe6 32. Rc8+ Kf7 33. c5 Kf6 34. Kh2 Ke5 35. Kg3 Kd5 36. cxb6 axb6 37. Rb8 Kc5 38. Rd8 b5 39. Rd4 b4 40. Rxe4 Ra7 41. Rxe6 Rxa2 42. Re7 Ra6 43. Rc7+ Rc6 44. Rb7 Rb6 45. Rc7+ Rc6 46. Rxg7 b3 47. Rd7 Rd6}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={c6,d6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c6-d6}]
\newline
47. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
