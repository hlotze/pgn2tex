\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Lasker, Emanuel $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Lasker, Emanuel -- 1-0 -- D64}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D02 -- Queen's Pawn: 2.Nf3 e6}
\subsubsection{D02 -- Queen's Pawn: 2.Nf3 e6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. Nf3 e6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkbnr/ppp2ppp/4p3/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 0 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e7,e6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e7-e6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Havana, World Championship 12th}}\\ 
\multicolumn{2}{l}{1921 Round 11}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Lasker, Emanuel} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. Nf3 e6}\mainline{3. c4 Nf6 4. Bg5 Nbd7 5. e3 Be7 6. Nc3 O-O 7. Rc1 Re8 8. Qc2 c6 9. Bd3 dxc4 10. Bxc4 Nd5 11. Bxe7 Rxe7 12. O-O Nf8 13. Rfd1 Bd7 14. e4 Nb6 15. Bf1 Rc8 16. b4 Be8 17. Qb3 Rec7 18. a4 Ng6 19. a5 Nd7 20. e5 b6 21. Ne4 Rb8 22. Qc3 Nf4 23. Nd6 Nd5 24. Qa3 f6 25. Nxe8 Qxe8 26. exf6 gxf6 27. b5 Rbc8 28. bxc6 Rxc6 29. Rxc6 Rxc6 30. axb6 axb6 31. Re1 Qc8 32. Nd2 Nf8 33. Ne4 Qd8 34. h4 Rc7 35. Qb3 Rg7 36. g3 Ra7 37. Bc4 Ra5 38. Nc3 Nxc3 39. Qxc3 Kf7 40. Qe3 Qd6 41. Qe4 Ra4 42. Qb7+ Kg6 43. Qc8 Qb4 44. Rc1 Qe7 45. Bd3+ Kh6 46. Rc7 Ra1+ 47. Kg2 Qd6 48. Qxf8+ }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={c8,f8},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c8-f8},
       pgfstyle=circle,
       color=BrickRed,
       markfield={h6}]
\newline
48.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
