\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Euwe, Max $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Euwe, Max -- 1/2-1/2 -- D34}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D34 -- QGD Tarrasch: 9.dxc5 Bxc5 10.Bg5 d4}
\subsubsection{D34 -- QGD Tarrasch: 9.dxc5 Bxc5 10.Bg5 d4}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7 8. O-O O-O 9. dxc5 Bxc5 10. Bg5 d4}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bq1rk1/pp3ppp/2n2n2/2b3B1/3p4/2N2NP1/PP2PPBP/R2Q1RK1 w - - 0 11},
             pgfstyle=border,
             color=YellowGreen,
             markfields={d5,d4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d5-d4}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Amsterdam, Amsterdam m3}}\\ 
\multicolumn{2}{l}{1931 Round 5}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Euwe, Max} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7 8. O-O O-O 9. dxc5 Bxc5 10. Bg5 d4}\mainline{11. Ne4 Be7 12. Nxf6+ Bxf6 13. Qd2 Bg4 14. h3 Bxg5 15. Nxg5 Bxe2 16. Nxf7 Qe7 17. Rfe1 d3 18. Ng5 Rad8 19. Rac1 Nd4 20. h4 h6 21. Nh3 Qf7 22. Nf4 Bf3 23. Rc3 Ne2+ 24. Nxe2 dxe2 25. Qe3 Rd1 26. Rc1 Rxc1 27. Rxc1 Re8 28. Qd2 Bxg2 29. Kxg2 Qxa2 30. Re1 Qe6 31. f3 b6 32. Kf2 Qh3 33. Rxe2 Qh2+ 34. Kf1 Rxe2 35. Qxe2 Qxg3 36. Qe4 a5 37. Qd5+ Kh8 38. h5 Qb8 39. Qb5 Qc8 40. Qxb6 Qh3+ 41. Kf2 Qh2+ 42. Kf1 Qxh5 43. Qd8+ Kh7 44. Qd3+ Qg6 45. Qb5 Qb1+ 46. Kg2 Qc2+ 47. Kh3 a4 48. Kg3 Qc7+ 49. Kg4 Qc8+ 50. Kg3 Qc2 51. Kh3 Qc8+ 52. Kg2 Qa8 53. Qf5+ Kh8 54. Qb5 Qa7 55. Qe8+ Kh7 56. Qe4+ g6 57. Kg3 h5 58. Kg2 Qd7 59. Kg3 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={g2,g3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g2-g3}]
\newline
59.\,\xskakget{lan} ...
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
