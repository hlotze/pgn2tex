\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Lasker, Emanuel $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Lasker, Emanuel -- 1/2-1/2 -- C66}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C48 -- Four Knights: Spanish, 4...d6 5.d4}
\subsubsection{C48 -- Four Knights: Spanish, 4...d6 5.d4}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 d6 5. d4}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkb1r/ppp2ppp/2np1n2/1B2p3/3PP3/2N2N2/PPP2PPP/R1BQK2R b KQkq - 0 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={d2,d4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d2-d4}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Havana, World Championship 12th}}\\ 
\multicolumn{2}{l}{1921 Round 3}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Lasker, Emanuel} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 d6 5. d4}\mainline{5...  Bd7 6. O-O Be7 7. Re1 exd4 8. Nxd4 O-O 9. Bxc6 bxc6 10. Bg5 h6 11. Bh4 Re8 12. Qd3 Nh7 13. Bxe7 Rxe7 14. Re3 Qb8 15. b3 Qb6 16. Rae1 Rae8 17. Nf3 Qa5 18. Qd2 Ng5 19. Nxg5 hxg5 20. h3 Re5 21. Rd1 Bc8 22. Rd3 Qb6 23. Kh2 R8e6 24. Rg3 Rf6 25. Kg1 Kf8 26. Na4 Qa5 27. Qxa5 Rxa5 28. Rc3 Bb7 29. f3 Re6 30. Rcd3 Ba6 31. Rd4 f6 32. Rc1 c5 33. Rd2 Bb5 34. Nc3 Bc6 35. a4 Ra6 36. Kf2 Rb6 37. Nd1 Kf7 38. Ne3 Rb8 39. Rh1 Ree8 40. Rdd1 Rh8 41. g4 Bd7 42. Nd5 Rb7 43. Kg3 Rh4 44. Rd3 Be6 45. c4 Rh8 46. Rc1 Ke8 47. Ne3 Kd7 48. Ng2 Rbb8 49. Re1 Kc6 50. Ne3 Rbe8 51. Rb1 Rh7 52. Rd2 Rb8 53. Rd3 Rbh8 54. Rh1 Kb6 55. Rh2 Kc6 56. Rh1 Rb8 57. Rh2 Rf8 58. Rh1 Kd7 59. Rh2 Bf7 60. Nf5 Rfh8 61. Ne3 Ke6 62. Nd5 Rc8 63. Ne3 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={d5,e3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d5-e3}]
\newline
63.\,\xskakget{lan} ...
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
