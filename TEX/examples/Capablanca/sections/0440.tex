\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Euwe, Max $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Euwe, Max -- 1/2-1/2 -- E22}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! E22 -- Nimzo-Indian: Spielmann Variation}
\subsubsection{E22 -- Nimzo-Indian: Spielmann Variation}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qb3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqk2r/pppp1ppp/4pn2/8/1bPP4/1QN5/PP2PPPP/R1B1KBNR b KQkq - 3 4},
             pgfstyle=border,
             color=YellowGreen,
             markfields={d1,b3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d1-b3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Amsterdam, Amsterdam m3}}\\ 
\multicolumn{2}{l}{1931 Round 1}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Euwe, Max} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qb3}\mainline{4...  d5 5. cxd5 exd5 6. Bg5 Qd6 7. Bxf6 Qxf6 8. a3 Bxc3+ 9. Qxc3 O-O 10. e3 c6 11. Nf3 Bf5 12. Be2 Nd7 13. O-O c5 14. b3 Rac8 15. Rfc1 Qb6 16. Nd2 cxd4 17. Qxd4 Qxd4 18. exd4 Nf6 19. f3 Bc2 20. Ra2 Bf5 21. Raa1 Bc2}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f5,c2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f5-c2}]
\newline
21. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
