\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Tarrasch, Siegbert $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Tarrasch, Siegbert vs. Capablanca, Jose Raul -- 1/2-1/2 -- C54}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C54 -- Giuoco Piano: 6.cxd4 Bb4+ 7.Bd2}
\subsubsection{C54 -- Giuoco Piano: 6.cxd4 Bb4+ 7.Bd2}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Bc4 Bc5 4. c3 Nf6 5. d4 exd4 6. cxd4 Bb4+ 7. Bd2}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqk2r/pppp1ppp/2n2n2/8/1bBPP3/5N2/PP1B1PPP/RN1QK2R b KQkq - 2 7},
             pgfstyle=border,
             color=YellowGreen,
             markfields={c1,d2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c1-d2}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{San Sebastian, San Sebastian}}\\ 
\multicolumn{2}{l}{1911 Round 4}\\[3mm]
\textbf{$\square$ \hspace{2mm} Tarrasch, Siegbert} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Bc4 Bc5 4. c3 Nf6 5. d4 exd4 6. cxd4 Bb4+ 7. Bd2}\mainline{7...  Bxd2+ 8. Nbxd2 d5 9. exd5 Nxd5 10. Qb3 Nce7 11. O-O O-O 12. Rfe1 c6 13. a4 Qb6 14. Qa3 Be6 15. a5 Qc7 16. Ne4 Rad8 17. Nc5 Bc8 18. g3 Nf5 19. Rad1 Nd6 20. Bxd5 Nb5 21. Qb4 Rxd5 22. Nd3 Bg4 23. Nde5 h5 24. Nxg4 hxg4 25. Nh4 Rfd8 26. Re7 Qd6 27. Qxd6 Nxd6 28. a6 bxa6 29. Rxa7 Nb5 30. Rxa6 Nxd4 31. Kf1 g5 32. Ng2 Nf3 33. Rxd5 cxd5 34. Ne1 Re8 35. Nxf3 gxf3 36. Rd6 Rc8 37. Ke1 Re8+ 38. Kf1 Rc8}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e8,c8},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e8-c8}]
\newline
38. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
