\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Euwe, Max $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Euwe, Max -- 1-0 -- E34}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! E34 -- Nimzo-Indian: Classical, Noa, 5.cxd5 Qxd5 6.Nf3 c5}
\subsubsection{E34 -- Nimzo-Indian: Classical, Noa, 5.cxd5 Qxd5 6.Nf3 c5}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 d5 5. cxd5 Qxd5 6. Nf3 c5}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnb1k2r/pp3ppp/4pn2/2pq4/1b1P4/2N2N2/PPQ1PPPP/R1B1KB1R w KQkq - 0 7},
             pgfstyle=border,
             color=YellowGreen,
             markfields={c7,c5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c7-c5}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Holland, AVRO}}\\ 
\multicolumn{2}{l}{1938}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Euwe, Max} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 d5 5. cxd5 Qxd5 6. Nf3 c5}\mainline{7. Bd2 Bxc3 8. Bxc3 cxd4 9. Nxd4 e5 10. Nf5 Bxf5 11. Qxf5 Nc6 12. e3 O-O 13. Be2 Qe4 14. Qf3 Qc2 15. O-O Rad8 16. Bb5 Rd5 17. Rac1 Qe4 18. Qe2 Rd6 19. f3 Qf5 20. Bxc6 Rxc6 21. Qb5 Rfc8 22. Qxb7 Qd3 23. e4 Nh5 24. g3 Qe3+ 25. Kg2 Qg5 26. Kf2 f5 27. exf5 Qxf5 28. g4 Qf4 29. gxh5 Qxh2+ 30. Ke3 Qf4+ 31. Ke2 Qc4+ 32. Ke1 Qd3 33. Qb3+ Kh8 34. Rc2 Rf6 35. Rd2 Qf5 36. Qc2 Qf4 37. Qe4 Qg3+ 38. Rff2 Qg1+ 39. Ke2 Rff8 40. h6 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={h5,h6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={h5-h6}]
\newline
40.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
