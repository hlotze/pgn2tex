\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Stapfer, John $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Stapfer, John vs. Capablanca, Jose Raul -- 0-1 -- D45}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A16 -- English: Anglo-Indian, 2.Nc3 c6}
\subsubsection{A16 -- English: Anglo-Indian, 2.Nc3 c6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. c4 Nf6 2. Nc3 c6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pp1ppppp/2p2n2/8/2P5/2N5/PP1PPPPP/R1BQKBNR w KQkq - 0 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={c7,c6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c7-c6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York National}}\\ 
\multicolumn{2}{l}{1913 Round 10}\\[3mm]
\textbf{$\square$ \hspace{2mm} Stapfer, John} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. c4 Nf6 2. Nc3 c6}\mainline{3. Nf3 d5 4. e3 e6 5. d4 Nbd7 6. cxd5 exd5 7. Bd3 Bd6 8. O-O O-O 9. Bd2 Re8 10. Qc2 Qe7 11. Rae1 Ne4 12. Bc1 Ndf6 13. h3 g5 14. Bxe4 dxe4 15. Nh2 g4 16. Ne2 gxh3 17. g3 h5 18. Kh1 Kh8 19. Rg1 Rg8 20. b3 Nd5 21. Nf4 Bg4 22. Bd2 Bxf4 23. exf4 Rae8 24. Be3 Nb4 25. Qd2 Rd8 26. Ra1 c5 27. Qc3 Nd5 28. Qxc5 Qxc5 29. dxc5 Nxe3 30. fxe3 Rd2 31. Nxg4 hxg4 32. Rgd1 Rgd8 33. Rxd2 Rxd2 34. b4 a6 35. Rb1 Rxa2 36. b5 axb5 37. Rxb5 Rc2 38. Rxb7 Kg7 39. Re7 Rxc5 40. Rxe4 Rc1+ 41. Kh2 Rc2+ 42. Kh1 Rg2 43. Re5 f6 44. Rc5 Rxg3 45. e4 Re3 46. Rc4 g3}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={g4,g3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g4-g3}]
\newline
46. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
