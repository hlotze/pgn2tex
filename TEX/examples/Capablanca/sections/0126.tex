\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Alekhine, Alexander $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Alekhine, Alexander -- 1-0 -- C11}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A40 -- Queen's Pawn: 1...e6}
\subsubsection{A40 -- Queen's Pawn: 1...e6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 e6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkbnr/pppp1ppp/4p3/8/3P4/8/PPP1PPPP/RNBQKBNR w KQkq - 0 2},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e7,e6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e7-e6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{St Petersburg, St Petersburg f}}\\ 
\multicolumn{2}{l}{1914}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Alekhine, Alexander} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 e6}\mainline{2. e4 d5 3. Nc3 Nf6 4. Bg5 h6 5. Bxf6 Qxf6 6. exd5 Bb4 7. Bb5+ c6 8. dxc6 Nxc6 9. Ne2 O-O 10. O-O Rd8 11. Ne4 Qh4 12. Bxc6 bxc6 13. f4 Ba6 14. c3 Bf8 15. Qe1 Qh5 16. Rf2 c5 17. Nxc5 Bxc5 18. dxc5 Qxc5 19. Nd4 Rd5 20. h3 Rad8 21. Qe3 e5 22. fxe5 Rxe5 23. Qf3 Qe7 24. Nc6 Re1+ 25. Rxe1 Qxe1+ 26. Kh2 Rd7 27. Nd4 Bd3 28. Qg3 Qb1 29. Qb8+ Kh7 30. Qe8 Rb7 31. Ne6 Bb5 32. Qc8 Re7 33. Nf8+ Kg8 34. Nd7+ Kh7 35. Qc5 Qe1 36. Qf5+ Kg8 37. Qxb5 Rxd7 38. Re2 Qd1 39. Re8+ Kh7 40. Qf5+ g6 41. Qe5 f6 42. Qxf6 Qd6+ 43. Qxd6 Rxd6 44. Re7+ Kg8 45. Rxa7 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e7,a7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e7-a7}]
\newline
45.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
