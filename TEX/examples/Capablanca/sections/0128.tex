\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Tarrasch, Siegbert $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Tarrasch, Siegbert -- 0-1 -- C49}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C49 -- Four Knights: Svenonius Variation}
\subsubsection{C49 -- Four Knights: Svenonius Variation}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 Bb4 5. O-O O-O 6. d3 Bxc3 7. bxc3 d5}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bq1rk1/ppp2ppp/2n2n2/1B1pp3/4P3/2PP1N2/P1P2PPP/R1BQ1RK1 w - - 0 8},
             pgfstyle=border,
             color=YellowGreen,
             markfields={d7,d5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d7-d5}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{St Petersburg, St Petersburg f}}\\ 
\multicolumn{2}{l}{1914}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Tarrasch, Siegbert} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 Bb4 5. O-O O-O 6. d3 Bxc3 7. bxc3 d5}\mainline{8. Bxc6 bxc6 9. Nxe5 Qd6 10. Bf4 Re8 11. Qf3 dxe4 12. dxe4 Rxe5 13. Rfd1 Bg4 14. Qg3 Bxd1 15. Bxe5 Qd2 16. f3 Nh5 17. Qf2 Qxf2+ 18. Kxf2 Bxc2 19. Rc1 Ba4 20. Bxc7 Rc8 21. Rb1 Bb5 22. Rd1 Kf8 23. Be5 Ke7 24. a4 Bc4 25. Rd4 Be6 26. Rb4 Bd7 27. Rb7 Ra8 28. Ke3 Nf6 29. a5 Ke8 30. Bd4 a6 31. f4 c5 32. Bxf6 gxf6 33. Rb6 Ke7 34. f5 Bb5 35. g4 Rd8 36. Kf4 Rd1 37. h4 h6 38. Rb7+ Kf8 39. Rc7 c4 40. g5 hxg5+ 41. hxg5 Rf1+ 42. Kg4 Rg1+ 43. Kf4 fxg5+ 44. Ke5 Re1 45. Kf6 Rxe4 46. Rxf7+ Ke8 47. Rg7 g4 48. Rg5 Bc6 49. Kg7 Bd5 50. Rg6 Re7+ 51. Kh6 Be4 52. Rxg4 Bxf5 53. Rxc4 Re5 54. Kg5 Bd3+ 55. Kf4 Rf5+ 56. Kg4 Rxa5 57. Rd4 Bb5 58. Kf4 Ra3 59. Ke5 Bd7 60. c4 Kd8 61. Rd2 Kc7 62. Kd4 a5 63. Rd3 Ra1 64. Kc3 Rc1+ 65. Kb2 Rh1 66. Rd5 a4 67. Rd2 Bc6 68. Ka2 Kb6 69. Rb2+ Kc5 70. Rb1 Rh3 71. Rg1 Kxc4 72. Rc1+ Kb5 73. Rb1+ Kc5 74. Rc1+ Kd6 75. Rd1+ Bd5+ 76. Kb2 a3+ 77. Ka1 Kc5 78. Rc1+ Bc4 79. Rg1 Rh2 80. Rg5+ Kb4 81. Rg1 Ra2+ 82. Kb1 Rd2}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={a2,d2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={a2-d2}]
\newline
82. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
