\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Marshall, Frank James $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Marshall, Frank James vs. Capablanca, Jose Raul -- 1/2-1/2 -- D00}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D00 -- Queen's Pawn: Stonewall Attack}
\subsubsection{D00 -- Queen's Pawn: Stonewall Attack}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. e3 Nf6 3. Bd3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/ppp1pppp/5n2/3p4/3P4/3BP3/PPP2PPP/RNBQK1NR b KQkq - 2 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={f1,d3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f1-d3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, USA m}}\\ 
\multicolumn{2}{l}{1909 Round 19}\\[3mm]
\textbf{$\square$ \hspace{2mm} Marshall, Frank James} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. e3 Nf6 3. Bd3}\mainline{3...  e6 4. Nd2 c5 5. c3 Nc6 6. f4 Qc7 7. Ndf3 Ne4 8. Ne5 cxd4 9. Bxe4 Nxe5 10. fxe5 dxe4 11. exd4 f5 12. exf6 gxf6 13. Qh5+ Qf7 14. Qb5+ Qd7 15. Qh5+ Qf7}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={d7,f7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d7-f7}]
\newline
15. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
