\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Johner, Paul F $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Johner, Paul F vs. Capablanca, Jose Raul -- 0-1 -- D46}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D02 -- Queen's Pawn: 2.Nf3 Nf6}
\subsubsection{D02 -- Queen's Pawn: 2.Nf3 Nf6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. Nf3 Nf6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/ppp1pppp/5n2/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 2 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g8,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g8-f6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1911 Round 13}\\[3mm]
\textbf{$\square$ \hspace{2mm} Johner, Paul F} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. Nf3 Nf6}\mainline{3. c4 c6 4. e3 e6 5. Bd3 Nbd7 6. O-O Bd6 7. Nc3 dxc4 8. Bxc4 O-O 9. e4 e5 10. Bg5 h6 11. Bh4 exd4 12. Qxd4 Bc5 13. Qd3 Nb6 14. Qxd8 Rxd8 15. Bb3 g5 16. Bg3 Bb4 17. Ne5 Be6 18. Bxe6 fxe6 19. f4 Bxc3 20. bxc3 Nxe4 21. fxg5 hxg5 22. Rf3 Na4 23. Re1 Naxc3 24. Rfe3 Rd4 25. Nf3 Rc4 26. Be5 g4 27. Nd4 Rf8 28. Nxe6 Re8 29. Bxc3 Rxe6 30. Bb2 a5 31. h3 Kf7 32. hxg4 b5 33. Rf1+ Kg6 34. Rf8 Kg5 35. Re1 Kxg4 36. Rg8+ Kf4 37. Rf8+ Kg5 38. Rg8+ Rg6 39. Bc1+ Kh5 40. Re8 Nf6 41. R8e5+ Kg4 42. Rf1 Nd5 43. Bd2 Nf4 44. Rf3 Rd6 45. Be1 Rd3 46. Rf2 Rd1 47. Rf3 Nd3 48. Rxd3 Rxd3 49. Bxa5 Ra3}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={d3,a3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d3-a3}]
\newline
49. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
