\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Kupchik, Abraham $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Kupchik, Abraham vs. Capablanca, Jose Raul -- 0-1 -- C01}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C01 -- French: Exchange, 4.Nf3 Bd6}
\subsubsection{C01 -- French: Exchange, 4.Nf3 Bd6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e6 2. d4 d5 3. exd5 exd5 4. Nf3 Bd6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqk1nr/ppp2ppp/3b4/3p4/3P4/5N2/PPP2PPP/RNBQKB1R w KQkq - 2 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={f8,d6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f8-d6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1915 Round 14}\\[3mm]
\textbf{$\square$ \hspace{2mm} Kupchik, Abraham} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e6 2. d4 d5 3. exd5 exd5 4. Nf3 Bd6}\mainline{5. Bd3 Nf6 6. Qe2+ Be7 7. O-O O-O 8. Ne5 Re8 9. Bg5 Ng4 10. Bxe7 Rxe7 11. h3 Nxe5 12. dxe5 c5 13. c3 Nc6 14. f4 c4 15. Bc2 f6 16. Nd2 fxe5 17. fxe5 Rxe5 18. Qf3 Be6 19. Rae1 Qg5 20. Rxe5 Nxe5 21. Qe2 Bxh3 22. Bf5 Bxf5 23. Qxe5 Qxd2 24. Qxf5 h6 25. Qe6+ Kh7 26. Rf7 Qg5 27. Rxb7 Qc1+ 28. Kh2 Qf4+ 29. Kg1 d4 30. Rf7 Qe3+ 31. Qxe3 dxe3 32. Re7 Rb8 33. Rxe3 Rxb2 34. Re4 Rxa2 35. Rxc4 h5 36. Rc7 Kh6 37. c4 h4 38. c5 g5 39. Rc8 g4 40. c6 g3 41. Kf1 Kg7 42. Rd8 Rc2 43. Rd7+ Kg6 44. Rxa7 Rc1+ 45. Ke2 h3 46. c7 hxg2 47. c8=Q Rxc8 48. Ra1 Rf8 49. Rg1 Rf2+ 50. Ke3 Kg5}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={g6,g5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g6-g5}]
\newline
50. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
