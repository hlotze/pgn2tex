\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Rey Ardid, Ramon $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Rey Ardid, Ramon -- 1-0 -- A31}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A05 -- Reti Opening: 1...Nf6}
\subsubsection{A05 -- Reti Opening: 1...Nf6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. Nf3 Nf6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pppppppp/5n2/8/8/5N2/PPPPPPPP/RNBQKB1R w KQkq - 2 2},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g8,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g8-f6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Barcelona, Barcelona}}\\ 
\multicolumn{2}{l}{1929 Round 7}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Rey Ardid, Ramon} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. Nf3 Nf6}\mainline{2. c4 c5 3. d4 b6 4. Nc3 Bb7 5. d5 d6 6. e4 Nbd7 7. Bf4 g6 8. Qd2 Bg7 9. Bh6 O-O 10. h4 Ng4 11. Bxg7 Kxg7 12. h5 h6 13. Be2 Rh8 14. Nh4 Ngf6 15. f4 Bc8 16. hxg6 fxg6 17. Qd3 Nf8 18. e5 dxe5 19. fxe5 Ne8 20. e6 Bb7 21. Qe3 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={d3,e3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d3-e3}]
\newline
21.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
