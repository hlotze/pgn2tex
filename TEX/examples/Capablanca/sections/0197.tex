\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Kostic, Boris $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Kostic, Boris vs. Capablanca, Jose Raul -- 0-1 -- C50}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C23 -- Bishop's Opening: Classical Variation}
\subsubsection{C23 -- Bishop's Opening: Classical Variation}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Bc4 Bc5}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqk1nr/pppp1ppp/8/2b1p3/2B1P3/8/PPPP1PPP/RNBQK1NR w KQkq - 2 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={f8,c5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f8-c5}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Havana, Havana m}}\\ 
\multicolumn{2}{l}{1919 Round 2}\\[3mm]
\textbf{$\square$ \hspace{2mm} Kostic, Boris} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Bc4 Bc5}\mainline{3. Nf3 Nc6 4. Nc3 Nf6 5. d3 d6 6. Be3 Bb6 7. Qd2 O-O 8. O-O-O Be6 9. Nd5 Bxd5 10. exd5 Bxe3 11. fxe3 Ne7 12. e4 Qd7 13. d4 exd4 14. Qxd4 Ng6 15. e5 dxe5 16. Nxe5 Nxe5 17. Qxe5 Rfe8 18. Qc3 Qd6 19. g3 Re4 20. Rhe1 Rae8 21. Bb3 Kf8 22. a3 h5 23. Rxe4 Rxe4 24. Re1 Nxd5 25. Bxd5 Rxe1+ 26. Qxe1 Qxd5 27. Kb1 a5 28. a4 b6 29. b3 f6 30. Qc3 Qe5 31. Qf3 Ke7 32. Qd3 Kf7 33. h4 Qd6 34. Qf3 g6 35. g4 hxg4 36. Qxg4 f5 37. Qg5 Ke8 38. Ka2 Qe6 39. h5 gxh5 40. Qxh5+ Kd7 41. Kb1 Kc6 42. Kc1 Qe3+ 43. Kd1 f4 44. Qg5 Qd4+ 45. Ke2 Qe4+ 46. Kd1 Qd5+}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e4,d5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e4-d5},
       pgfstyle=circle,
       color=BrickRed,
       markfield={d1}]
\newline
46. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
