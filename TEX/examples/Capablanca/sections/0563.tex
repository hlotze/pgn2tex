\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Euwe, Max $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Euwe, Max vs. Capablanca, Jose Raul -- 1-0 -- E18}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! E18 -- Queen's Indian: 7.Nc3 d5 8.Ne5}
\subsubsection{E18 -- Queen's Indian: 7.Nc3 d5 8.Ne5}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. g3 Bb7 5. Bg2 Be7 6. O-O O-O 7. Nc3 d5 8. Ne5}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rn1q1rk1/pbp1bppp/1p2pn2/3pN3/2PP4/2N3P1/PP2PPBP/R1BQ1RK1 b - - 1 8},
             pgfstyle=border,
             color=YellowGreen,
             markfields={f3,e5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f3-e5}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Holland, AVRO}}\\ 
\multicolumn{2}{l}{1938}\\[3mm]
\textbf{$\square$ \hspace{2mm} Euwe, Max} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. g3 Bb7 5. Bg2 Be7 6. O-O O-O 7. Nc3 d5 8. Ne5}\mainline{8...  Ne4 9. cxd5 exd5 10. Nxe4 dxe4 11. Qc2 f5 12. Be3 Na6 13. Rac1 Qd5 14. Nc6 Bxc6 15. Qxc6 Qxc6 16. Rxc6 Rf6 17. Rfc1 Rxc6 18. Rxc6 Bd6 19. a3 Re8 20. Bf4 Bxf4 21. gxf4 Kf7 22. e3 Re6 23. Rc4 b5 24. Rc3 c6 25. f3 g6 26. fxe4 fxe4 27. a4 bxa4 28. Rc4 Kf6 29. Rxa4 c5 30. Bf1 cxd4 31. Rxa6 dxe3 32. Rxe6+ Kxe6 33. Bh3+ Kd5 34. Kf1 Kc4 35. Ke2 Kb3 36. Be6+ Kxb2 37. Bg8 a5 38. Bxh7 a4 39. Bxg6 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={h7,g6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={h7-g6}]
\newline
39.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
