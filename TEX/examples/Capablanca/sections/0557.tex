\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Reshevsky, Samuel Herman $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Reshevsky, Samuel Herman vs. Capablanca, Jose Raul -- 1/2-1/2 -- E37}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! E37 -- Nimzo-Indian: Classical, Noa, Main Line, 7.Qc2 c5 8.dxc5 Nc6}
\subsubsection{E37 -- Nimzo-Indian: Classical, Noa, Main Line, 7.Qc2 c5 8.dxc5 Nc6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 d5 5. a3 Bxc3+ 6. Qxc3 Ne4 7. Qc2 c5 8. dxc5 Nc6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqk2r/pp3ppp/2n1p3/2Pp4/2P1n3/P7/1PQ1PPPP/R1B1KBNR w KQkq - 1 9},
             pgfstyle=border,
             color=YellowGreen,
             markfields={b8,c6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b8-c6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Holland, AVRO}}\\ 
\multicolumn{2}{l}{1938}\\[3mm]
\textbf{$\square$ \hspace{2mm} Reshevsky, Samuel Herman} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 d5 5. a3 Bxc3+ 6. Qxc3 Ne4 7. Qc2 c5 8. dxc5 Nc6}\mainline{9. Nf3 Qa5+ 10. Nd2 Nxd2 11. Bxd2 Qxc5 12. e3 dxc4 13. Qxc4 Qxc4 14. Bxc4 Bd7 15. Bc3 f6 16. f4 Rc8 17. Bb3 Ke7 18. Kf2 Be8 19. e4 Bf7 20. Rad1 Rhd8 21. e5 fxe5 22. fxe5 Bh5 23. Rd6 Rxd6 24. exd6+ Kxd6 25. Bxg7 e5 26. Rc1 Bg4 27. Bh6 Be6 28. Bc2 Rg8 29. h3 Nd4 30. Bd3 Bf5 31. Bxf5 Nxf5 32. Bd2 h5 33. Bb4+ Kd5 34. Rc5+ Ke4 35. Bc3 Re8 36. g4 hxg4 37. hxg4 Nd6 38. Rc7 Kf4 39. Bb4 Ne4+ 40. Ke2 Ng3+ 41. Ke1 b5 42. Rxa7 Kxg4 43. Rb7 e4 44. Rxb5 Kf3 45. Bd6 Rh8 46. Bxg3 Rh1+ 47. Kd2 e3+ 48. Kc2 Kxg3 49. Kd3 Kf4 50. Rb8 Rd1+ 51. Ke2 Rd2+ 52. Ke1 Kf3 53. Rf8+ Ke4 54. b4 Ra2 55. Re8+ Kf3 56. Rf8+ Ke4}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f3,e4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f3-e4}]
\newline
56. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
