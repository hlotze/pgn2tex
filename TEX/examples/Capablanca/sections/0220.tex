\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Bogoljubow, Efim $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Bogoljubow, Efim -- 1-0 -- C91}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C88 -- Spanish: Closed 7...d6 8.c3}
\subsubsection{C88 -- Spanish: Closed 7...d6 8.c3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 d6 8. c3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqk2r/2p1bppp/p1np1n2/1p2p3/4P3/1BP2N2/PP1P1PPP/RNBQR1K1 b kq - 0 8},
             pgfstyle=border,
             color=YellowGreen,
             markfields={c2,c3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c2-c3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{London, London}}\\ 
\multicolumn{2}{l}{1922 Round 6}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Bogoljubow, Efim} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 d6 8. c3}\mainline{8...  O-O 9. d4 exd4 10. cxd4 Bg4 11. Be3 Na5 12. Bc2 Nc4 13. Bc1 c5 14. b3 Na5 15. Bb2 Nc6 16. d5 Nb4 17. Nbd2 Nxc2 18. Qxc2 Re8 19. Qd3 h6 20. Nf1 Nd7 21. h3 Bh5 22. N3d2 Bf6 23. Bxf6 Qxf6 24. a4 c4 25. bxc4 Nc5 26. Qe3 bxa4 27. f4 Qe7 28. g4 Bg6 29. f5 Bh7 30. Ng3 Qe5 31. Kg2 Rab8 32. Rab1 f6 33. Nf3 Rb2+ 34. Rxb2 Qxb2+ 35. Re2 Qb3 36. Nd4 Qxe3 37. Rxe3 Rb8 38. Rc3 Kf7 39. Kf3 Rb2 40. Nge2 Bg8 41. Ne6 Nb3 42. c5 dxc5 43. Nxc5 Nd2+ 44. Kf2 Ke7 45. Ke1 Nb1 46. Rd3 a3 47. d6+ Kd8 48. Nd4 Rb6 49. Nde6+ Bxe6 50. fxe6 Rb8 51. e7+ Ke8 52. Nxa6 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={c5,a6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c5-a6}]
\newline
52.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
