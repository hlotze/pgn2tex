\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Keres, Paul $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Keres, Paul vs. Capablanca, Jose Raul -- 1-0 -- C09}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C09 -- French: Tarrasch, Open, 5.Ngf3 Nc6 6.Bb5}
\subsubsection{C09 -- French: Tarrasch, Open, 5.Ngf3 Nc6 6.Bb5}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e6 2. d4 d5 3. Nd2 c5 4. exd5 exd5 5. Ngf3 Nc6 6. Bb5}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkbnr/pp3ppp/2n5/1Bpp4/3P4/5N2/PPPN1PPP/R1BQK2R b KQkq - 3 6},
             pgfstyle=border,
             color=YellowGreen,
             markfields={f1,b5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f1-b5}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Holland, AVRO}}\\ 
\multicolumn{2}{l}{1938}\\[3mm]
\textbf{$\square$ \hspace{2mm} Keres, Paul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e6 2. d4 d5 3. Nd2 c5 4. exd5 exd5 5. Ngf3 Nc6 6. Bb5}\mainline{6...  Qe7+ 7. Be2 cxd4 8. O-O Qc7 9. Nb3 Bd6 10. Nbxd4 a6 11. b3 Nge7 12. Bb2 O-O 13. Nxc6 bxc6 14. c4 Be6 15. Qc2 dxc4 16. Bxc4 Bxc4 17. Qxc4 Rfb8 18. h3 Rb5 19. Rac1 Rc8 20. Rfd1 Ng6 21. Nd4 Rb6 22. Ne6 Qb8 23. Ng5 Rb7 24. Qg4 Bf4 25. Rc4 Rb5 26. Nxf7 Re8 27. g3 Qc8 28. Rxf4 Qxg4 29. Rxg4 Kxf7 30. Rd7+ Re7 31. Rxe7+ Kxe7 32. Bxg7 Ra5 33. a4 Rc5 34. Rb4 Ke6 35. Kg2 h5 36. Rc4 Rxc4 37. bxc4 Kd6 38. f4 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f2,f4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f2-f4}]
\newline
38.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
