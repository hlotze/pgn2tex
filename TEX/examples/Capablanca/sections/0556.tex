\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Botvinnik, Mikhail $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Botvinnik, Mikhail vs. Capablanca, Jose Raul -- 1-0 -- E49}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! E40 -- Nimzo-Indian: Rubinstein}
\subsubsection{E40 -- Nimzo-Indian: Rubinstein}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqk2r/pppp1ppp/4pn2/8/1bPP4/2N1P3/PP3PPP/R1BQKBNR b KQkq - 0 4},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e2,e3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e2-e3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Amsterdam, AVRO}}\\ 
\multicolumn{2}{l}{1938}\\[3mm]
\textbf{$\square$ \hspace{2mm} Botvinnik, Mikhail} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3}\mainline{4...  d5 5. a3 Bxc3+ 6. bxc3 c5 7. cxd5 exd5 8. Bd3 O-O 9. Ne2 b6 10. O-O Ba6 11. Bxa6 Nxa6 12. Bb2 Qd7 13. a4 Rfe8 14. Qd3 c4 15. Qc2 Nb8 16. Rae1 Nc6 17. Ng3 Na5 18. f3 Nb3 19. e4 Qxa4 20. e5 Nd7 21. Qf2 g6 22. f4 f5 23. exf6 Nxf6 24. f5 Rxe1 25. Rxe1 Re8 26. Re6 Rxe6 27. fxe6 Kg7 28. Qf4 Qe8 29. Qe5 Qe7 30. Ba3 Qxa3 31. Nh5+ gxh5 32. Qg5+ Kf8 33. Qxf6+ Kg8 34. e7 Qc1+ 35. Kf2 Qc2+ 36. Kg3 Qd3+ 37. Kh4 Qe4+ 38. Kxh5 Qe2+ 39. Kh4 Qe4+ 40. g4 Qe1+ 41. Kh5 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={h4,h5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={h4-h5}]
\newline
41.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
