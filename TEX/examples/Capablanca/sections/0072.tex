\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Chajes, Oscar $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Chajes, Oscar -- 1-0 -- C66}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C66 -- Spanish: Closed Berlin}
\subsubsection{C66 -- Spanish: Closed Berlin}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. O-O d6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkb1r/ppp2ppp/2np1n2/1B2p3/4P3/5N2/PPPP1PPP/RNBQ1RK1 w kq - 0 5},
             pgfstyle=border,
             color=YellowGreen,
             markfields={d7,d6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d7-d6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Havana, Havana}}\\ 
\multicolumn{2}{l}{1913}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Chajes, Oscar} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. O-O d6}\mainline{5. Bxc6+ bxc6 6. d4 Be7 7. Nc3 exd4 8. Nxd4 Bd7 9. Qd3 c5 10. Nf3 O-O 11. e5 dxe5 12. Nxe5 Be8 13. Be3 Bd6 14. Rad1 Qc8 15. Nc4 Be7 16. Rfe1 Bc6 17. Ne5 Bb7 18. Bg5 Bd6 19. Bxf6 gxf6 20. Nc4 Qg4 21. f3 Qg7 22. Nxd6 cxd6 23. Re7 Bc6 24. Rc7 c4 25. Qf5 Be8 26. Rxc4 Qh6 27. Nd5 Kh8 28. Qxf6+ Qxf6 29. Nxf6 Kg7 30. Rxd6 Rh8 31. a4 a5 32. b3 h5 33. h4 Kf8 34. Re4 Kg7 35. Re5 Rc8 36. Nxh5+ Kf8 37. Nf6 Rxh4 38. Rxe8+ Rxe8 39. Nxe8 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f6,e8},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f6-e8}]
\newline
39.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
