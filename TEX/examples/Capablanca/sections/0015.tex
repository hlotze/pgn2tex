\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Marshall, Frank James $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Marshall, Frank James vs. Capablanca, Jose Raul -- 1/2-1/2 -- D33}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D33 -- QGD Tarrasch: 6.g3 (Schlecter/Rubinstein)}
\subsubsection{D33 -- QGD Tarrasch: 6.g3 (Schlecter/Rubinstein)}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r1bqkbnr/pp3ppp/2n5/2pp4/3P4/2N2NP1/PP2PP1P/R1BQKB1R b KQkq - 0 6},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g2,g3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g2-g3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, USA m}}\\ 
\multicolumn{2}{l}{1909 Round 1}\\[3mm]
\textbf{$\square$ \hspace{2mm} Marshall, Frank James} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3}\mainline{6...  Be6 7. Bg2 Nf6 8. Bg5 h6 9. Bxf6 Qxf6 10. O-O cxd4 11. Nb5 Rc8 12. Nfxd4 Nxd4 13. Nxd4 Bc5 14. Nxe6 fxe6 15. Qa4+ Kf7 16. Rac1 Rhf8 17. e3 Qe7 18. Rc3 Rc7 19. Rfc1 Rfc8 20. Qg4 Qf6 21. a3 Bd6 22. Rxc7+ Rxc7 23. Rxc7+ Bxc7 24. Qb4 Bb6 25. a4 Qe7 26. Qf4+ Qf6 27. Qb4 Qe7 28. Qf4+ Qf6 29. Qb4 Qe7 30. Qf4+ Qf6}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e7,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e7-f6}]
\newline
30. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
