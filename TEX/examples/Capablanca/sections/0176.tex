\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Marshall, Frank James $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Marshall, Frank James vs. Capablanca, Jose Raul -- 0-1 -- D64}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D02 -- Queen's Pawn: 2.Nf3 Nf6}
\subsubsection{D02 -- Queen's Pawn: 2.Nf3 Nf6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. Nf3 Nf6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/ppp1pppp/5n2/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 2 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g8,f6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g8-f6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1918}\\[3mm]
\textbf{$\square$ \hspace{2mm} Marshall, Frank James} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. Nf3 Nf6}\mainline{3. c4 e6 4. Nc3 Nbd7 5. Bg5 Be7 6. e3 O-O 7. Rc1 c6 8. Qc2 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. O-O Nxc3 12. Qxc3 b6 13. e4 Bb7 14. Rfe1 Rfd8 15. d5 Nc5 16. dxe6 Nxe6 17. Bxe6 Qxe6 18. Nd4 Qe5 19. Nxc6 Qxc3 20. Rxc3 Rd2 21. Rb1 Re8 22. e5 g5 23. h4 gxh4 24. Re1 Re6 25. Rec1 Kg7 26. b4 b5 27. a3 Rg6 28. Kf1 Ra2 29. Kg1 h3 30. g3 a6 31. e6 Rxe6 32. g4 Rh6 33. f3 Rd6 34. Ne7 Rdd2 35. Nf5+ Kf6 36. Nh4 Ke5 37. Nf5 Rg2+ 38. Kf1 h2 39. f4+ Kxf4}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e5,f4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e5-f4}]
\newline
39. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
