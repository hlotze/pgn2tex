\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Lasker, Emanuel $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Lasker, Emanuel vs. Capablanca, Jose Raul -- 0-1 -- C66}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! C66 -- Spanish: Closed Berlin, Showalter Variation}
\subsubsection{C66 -- Spanish: Closed Berlin, Showalter Variation}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. O-O d6 5. d4 Bd7 6. Nc3 Be7 7. Bxc6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={r2qk2r/pppbbppp/2Bp1n2/4p3/3PP3/2N2N2/PPP2PPP/R1BQ1RK1 b kq - 0 7},
             pgfstyle=border,
             color=YellowGreen,
             markfields={b5,c6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b5-c6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Havana, World Championship 12th}}\\ 
\multicolumn{2}{l}{1921 Round 14}\\[3mm]
\textbf{$\square$ \hspace{2mm} Lasker, Emanuel} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. O-O d6 5. d4 Bd7 6. Nc3 Be7 7. Bxc6}\mainline{7...  Bxc6 8. Qd3 exd4 9. Nxd4 Bd7 10. Bg5 O-O 11. Rae1 h6 12. Bh4 Nh7 13. Bxe7 Qxe7 14. Nd5 Qd8 15. c4 Re8 16. f4 c6 17. Nc3 Qb6 18. b3 Rad8 19. Kh1 Nf6 20. h3 Bc8 21. Rd1 Re7 22. Rfe1 Rde8 23. Re2 Qa5 24. Rf1 Qh5 25. Kg1 a6 26. Rff2 Qg6 27. Rf3 Qh5 28. f5 Qh4 29. Kh2 Ng4+ 30. Kh1 Ne5 31. Qd2 Nxf3 32. Nxf3 Qf6 33. a4 g6 34. fxg6 fxg6 35. Re3 Bf5 36. Qd3 g5 37. Nd2 Bg6 38. b4 Qe6 39. b5 axb5 40. axb5 Ra8 41. Qb1 Qe5 42. Qe1 Kh7 43. bxc6 bxc6 44. Qg3 Qxg3 45. Rxg3 Ra3 46. Kh2 Rb7 47. c5 dxc5 48. Nc4 Ra1 49. Ne5 Rc1 50. h4 Re7 51. Nxc6 Re6 52. Nd8 gxh4 53. Rd3 Rf6 54. Rd7+ Kh8 55. Nd5 Rff1 56. Kh3 Bxe4}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={g6,e4},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g6-e4}]
\newline
56. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
