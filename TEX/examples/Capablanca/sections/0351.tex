\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Spielmann, Rudolf $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Spielmann, Rudolf -- 1/2-1/2 -- D47}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D10 -- Slav: 3.Nc3 Nf6 4.e3}
\subsubsection{D10 -- Slav: 3.Nc3 Nf6 4.e3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. c4 c6 3. Nc3 Nf6 4. e3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pp2pppp/2p2n2/3p4/2PP4/2N1P3/PP3PPP/R1BQKBNR b KQkq - 0 4},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e2,e3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e2-e3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Berlin, Berlin Tageblatt}}\\ 
\multicolumn{2}{l}{1928}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Spielmann, Rudolf} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. c4 c6 3. Nc3 Nf6 4. e3}\mainline{4...  e6 5. Nf3 Nbd7 6. Bd3 dxc4 7. Bxc4 b5 8. Be2 a6 9. O-O Bb7 10. a3 c5 11. dxc5 Nxc5 12. b4 Qxd1 13. Rxd1 Nb3 14. Rb1 Nxc1 15. Rbxc1 Be7 16. Ne5 O-O 17. Bf3 Bxf3 18. gxf3 Rac8 19. Ne4 Nxe4 20. fxe4 g6 21. Nc6 Rc7 22. Nxe7+ Rxe7 23. Rd6 Ra8 24. e5 h5 25. Kg2 Kg7 26. Rcc6 Rea7 27. h4 a5 28. Rb6 axb4 29. axb4 Rc8 30. Rd4 Rc4 31. Rxc4 bxc4 32. Rc6 Ra2 33. Rxc4 Rb2 34. Kg3 Rb1 35. Kf4 Rb2 36. f3 Rh2 37. Kg3 Rb2 38. f4 f5 39. exf6+ Kxf6 40. Kf3 e5 41. Ke4 exf4 42. Kxf4 Rg2 43. Kf3 Rb2 44. Ke4 g5 45. Rc6+ Kg7 46. hxg5 Rxb4+ 47. Kf5 Rb5+ 48. Kf4 Rb1 49. Rh6 Rf1+ 50. Ke5 Rh1 51. e4 h4 52. Kf5 h3 53. e5 h2 54. Ke6 Kg8 55. Rg6+ Kh7 56. Rf6 Kg7 57. Rf2 Kg6 58. Rg2 Kh7 59. Ke7 Kg7 60. e6 Kg6 61. Rf2 Kg7 62. Rd2 Kg6 63. Kd7 Ra1 64. Rxh2 Ra7+ 65. Kc8 Re7 66. Re2 Kf5 67. g6 Rxe6 68. g7 Rg6}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e6,g6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e6-g6}]
\newline
68. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
