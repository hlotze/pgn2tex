\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Spielmann, Rudolf $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Spielmann, Rudolf -- 1-0 -- D04}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D02 -- Queen's Pawn: Krause, Reversed Slav}
\subsubsection{D02 -- Queen's Pawn: Krause, Reversed Slav}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. Nf3 c5 3. c3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkbnr/pp2pppp/8/2pp4/3P4/2P2N2/PP2PPPP/RNBQKB1R b KQkq - 0 3},
             pgfstyle=border,
             color=YellowGreen,
             markfields={c2,c3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={c2-c3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{San Sebastian, San Sebastian}}\\ 
\multicolumn{2}{l}{1911 Round 12}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Spielmann, Rudolf} & \textbf{0}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. Nf3 c5 3. c3}\mainline{3...  Nf6 4. e3 Nc6 5. dxc5 e5 6. b4 Qc7 7. Bb2 Be6 8. Nbd2 Be7 9. Be2 O-O 10. O-O Rad8 11. Qc2 Bg4 12. e4 dxe4 13. Nxe4 Nxe4 14. Qxe4 f5 15. Qc4+ Kh8 16. Rad1 e4 17. Nd4 Ne5 18. Qb3 Bxe2 19. Nxe2 Ng4 20. Ng3 f4 21. Rxd8 Rxd8 22. Qe6 fxg3 23. Qxg4 gxh2+ 24. Kh1 Qe5 25. Re1 Rd2 26. Rxe4 Qc7 27. Bc1 Rxf2 28. Bf4 Qd8 29. Rxe7 Qf8 30. Qxg7+ }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={g4,g7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g4-g7},
       pgfstyle=circle,
       color=BrickRed,
       markfield={h8}]
\newline
30.\,\xskakget{lan} ...
\newline
1-0
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
