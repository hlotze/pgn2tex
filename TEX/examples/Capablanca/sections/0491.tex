\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Capablanca, Jose Raul $\square$}
\index{Players ! Bohatirchuk, Fedor Parfenovich $\blacksquare$}
\subsection{Capablanca, Jose Raul vs. Bohatirchuk, Fedor Parfenovich -- 1/2-1/2 -- D31}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! D31 -- QGD: Janowski Variation}
\subsubsection{D31 -- QGD: Janowski Variation}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 d5 2. c4 e6 3. Nc3 a6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkbnr/1pp2ppp/p3p3/3p4/2PP4/2N5/PP2PPPP/R1BQKBNR w KQkq - 0 4},
             pgfstyle=border,
             color=YellowGreen,
             markfields={a7,a6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={a7-a6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Moscow, Moscow}}\\ 
\multicolumn{2}{l}{1935 Round 10}\\[3mm]
\textbf{$\square$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1/2}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Bohatirchuk, Fedor Parfenovich} & \textbf{1/2}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 d5 2. c4 e6 3. Nc3 a6}\mainline{4. cxd5 exd5 5. Nf3 Nf6 6. Bg5 Be7 7. e3 O-O 8. Bd3 Nbd7 9. O-O Re8 10. Qc2 Nf8 11. Rfc1 c6 12. Rab1 Nh5 13. Bxe7 Rxe7 14. b4 g6 15. a4 Bd7 16. b5 axb5 17. axb5 Be8 18. Na4 Ng7 19. Ne5 f6 20. Ng4 Nh5 21. Nc5 Kg7 22. h3 Ne6 23. Nxe6+ Rxe6 24. bxc6 bxc6 25. Rb7+ Re7 26. Rcb1 Qd6 27. Rxe7+ Qxe7 28. Qb2 Kf8 29. Qb7 Ra7 30. Qb8 Qc7 31. Qb4+ Qe7 32. Qb6 Qc7 33. Qc5+ Qe7 34. Qc1 Rb7 35. Rxb7 Qxb7 36. Nh2 Ng7 37. Nf3 Qb4 38. Ne1 Ne6 39. Be2 Ke7 40. Nd3 Qb3 41. h4 Bd7 42. g3 Kd6 43. Kg2 Ke7 44. Qa1 Qb8 45. Qa3+ Kf7 46. Bd1 Ke8 47. Kh2 Kf7 48. Ba4 Qb1 49. Qc3 Nf8 50. Ne1 Qf5 51. Kg1 Qb1 52. Bc2 Qb6 53. Nd3 Ne6 54. Qa3 Ke8 55. Kg2 Qb8 56. h5 Kf7 57. Qb4 Qxb4 58. Nxb4 Be8 59. Ba4 Nd8 60. hxg6+ hxg6 61. f4 Ke7 62. Kf3 Kd6 63. g4 Ne6 64. Kg3 Bd7 65. Nd3 Be8 66. Ne1 Bf7 67. Nd3 Be8 68. Kh4 g5+ 69. Kg3 gxf4+ 70. Nxf4 Ng5 71. Bc2 c5 72. dxc5+ Kxc5 73. Nh5 Bxh5 74. gxh5 Nf7 75. Kf4 Nh6 76. Bb3 Kd6 77. Ba4 Kc5 78. Bd7 Kd6 79. Bc8 Kc7}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={d6,c7},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={d6-c7}]
\newline
79. ...\,\xskakget{lan}
\newline
1/2-1/2
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
