\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Canal, Esteban $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Canal, Esteban vs. Capablanca, Jose Raul -- 0-1 -- E16}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! E16 -- Queen's Indian: Capablanca, 6...Bxd2+ 7.Nbxd2}
\subsubsection{E16 -- Queen's Indian: Capablanca, 6...Bxd2+ 7.Nbxd2}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. g3 Bb7 5. Bg2 Bb4+ 6. Bd2 Bxd2+ 7. Nbxd2}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rn1qk2r/pbpp1ppp/1p2pn2/8/2PP4/5NP1/PP1NPPBP/R2QK2R b KQkq - 0 7},
             pgfstyle=border,
             color=YellowGreen,
             markfields={b1,d2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={b1-d2}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Budapest, Budapest}}\\ 
\multicolumn{2}{l}{1929}\\[3mm]
\textbf{$\square$ \hspace{2mm} Canal, Esteban} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. g3 Bb7 5. Bg2 Bb4+ 6. Bd2 Bxd2+ 7. Nbxd2}\mainline{7...  O-O 8. O-O c5 9. dxc5 bxc5 10. Qc2 Nc6 11. Rfd1 Qb6 12. a3 Rab8 13. Rab1 Rfc8 14. e4 e5 15. Qd3 d6 16. Nf1 Nd4 17. Nxd4 exd4 18. b4 Qc6 19. bxc5 dxc5 20. Rxb7 Qxb7 21. e5 Qb3 22. exf6 Qxd3 23. Rxd3 Rb1 24. Bd5 Rcb8 25. Kg2 R8b3 26. Rxb3 Rxb3 27. Nd2 Rxa3 28. Ne4 a5 29. Nxc5 gxf6 30. Kf1 a4 31. Ke2 Ra1 32. Nd3 a3 33. c5 a2 34. Kf3 Rd1 35. Bxa2 Rxd3+ 36. Ke4 Rd2 37. Bc4 Kf8 38. f3 Rxh2 39. Kxd4 Ke7 40. Bd3 h5 41. Ke3 Rg2 42. Kf4 Rg1 43. Be4 Rc1 44. c6 Rc3 45. c7 Rxc7 46. Bd5 Rc5 47. Ba2 Rb5 48. Ke3 Ra5 49. Bc4 Rc5 50. Ba6 Ke6 51. Kf4 Rc3 52. Bf1 f5 53. Ba6 Kf6 54. Bb7 Rc4+ 55. Ke3 Kg5 56. Kf2 f4 57. Kg2 f5}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={f7,f5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={f7-f5}]
\newline
57. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
