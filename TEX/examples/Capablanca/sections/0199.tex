\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Kostic, Boris $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Kostic, Boris vs. Capablanca, Jose Raul -- 0-1 -- D03}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! A46 -- Torre Attack: 3...c5 4.e3}
\subsubsection{A46 -- Torre Attack: 3...c5 4.e3}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. d4 Nf6 2. Nf3 e6 3. Bg5 c5 4. e3}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkb1r/pp1p1ppp/4pn2/2p3B1/3P4/4PN2/PPP2PPP/RN1QKB1R b KQkq - 0 4},
             pgfstyle=border,
             color=YellowGreen,
             markfields={e2,e3},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e2-e3}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{Havana, Havana m}}\\ 
\multicolumn{2}{l}{1919 Round 4}\\[3mm]
\textbf{$\square$ \hspace{2mm} Kostic, Boris} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. d4 Nf6 2. Nf3 e6 3. Bg5 c5 4. e3}\mainline{4...  Nc6 5. c3 Qb6 6. Qb3 d5 7. Nbd2 Bd7 8. Be2 cxd4 9. exd4 Bd6 10. O-O h6 11. Bh4 Nh5 12. Qxb6 axb6 13. Rfe1 g5 14. Bg3 Nxg3 15. hxg3 f6 16. g4 Kf7 17. Nh2 Na5 18. Nhf1 b5 19. a3 Nc4 20. Nxc4 bxc4 21. Ne3 Ra6 22. g3 Rb6 23. Ra2 Ra8 24. Bf3 Ra5 25. Kg2 Rab5 26. Re2 Be8 27. Rd2 Kg7 28. Bd1 Bg6 29. Ba4 Ra5 30. Bc2 Bxc2 31. Rxc2 Kg6 32. Re2 Rab5 33. Nd1 Bf8 34. Ra1 h5 35. f3 hxg4 36. fxg4 f5 37. gxf5+ exf5 38. Rc1 Rf6 39. Rcc2 Bd6 40. Re8 Kf7 41. Re1 f4 42. g4 f3+ 43. Kf2 Rh6 44. Kxf3 Rh3+ 45. Ke2 Rh2+ 46. Nf2 Bg3 47. Rf1 Rb6 48. Kf3 Bh4 49. Re2 Rf6+ 50. Ke3 b5 51. Rd2 Ke7 52. b4 cxb3 53. Nd3 Rxd2 54. Kxd2 }

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e3,d2},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e3-d2}]
\newline
54.\,\xskakget{lan} ...
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
