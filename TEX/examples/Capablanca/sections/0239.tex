\documentclass[../main.tex]{subfiles}

\begin{document}

\index{Players ! Lasker, Edward $\square$}
\index{Players ! Capablanca, Jose Raul $\blacksquare$}
\subsection{Lasker, Edward vs. Capablanca, Jose Raul -- 0-1 -- B27}
\begin{multicols*}{2}

% Game's Opening ECO data
\index{Openings ! B06 -- Modern: 1.e4 g6}
\subsubsection{B06 -- Modern: 1.e4 g6}
\begin{flushleft}
\newchessgame[id=eco]
\longmoves
\mainline{1. e4 g6}
\begin{center}
\begin{tabular}{C{60mm}}
\chessboard[setfen={rnbqkbnr/pppppp1p/6p1/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2},
             pgfstyle=border,
             color=YellowGreen,
             markfields={g7,g6},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={g7-g6}]
\newline
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\printmovercolor{\xskakgetgame{lastplayer}}
\end{tabular}
\end{center}
% PGN tags
\begin{tabular}{L{60mm} R{10mm}}
\multicolumn{2}{l}{\textbf{New York, New York}}\\ 
\multicolumn{2}{l}{1924}\\[3mm]
\textbf{$\square$ \hspace{2mm} Lasker, Edward} & \textbf{0}\\ 
\textbf{$\blacksquare$ \hspace{2mm} Capablanca, Jose Raul} & \textbf{1}\\ 
\end{tabular}

% Game's final diagram and result
\newchessgame[id=overview]
\longmoves
\hidemoves{1. e4 g6}\mainline{2. Nf3 Bg7 3. Bc4 c5 4. O-O Nc6 5. c3 Qb6 6. Re1 d6 7. Bb3 Nf6 8. d4 cxd4 9. cxd4 O-O 10. h3 Nh5 11. Be3 Na5 12. Nc3 Nxb3 13. axb3 Qd8 14. e5 f5 15. Bg5 d5 16. Qc1 Be6 17. Ne2 Rc8 18. Qd2 a6 19. Qb4 Qd7 20. Qxe7 Qxe7 21. Bxe7 Rfe8 22. Bb4 Rc2 23. Bc3 Bh6 24. g3 Bd7 25. Rad1 Bb5 26. Nc1 Ng7 27. Nh2 Ne6 28. Nd3 Bxd3 29. Rxd3 Bc1 30. Nf1 Ng5 31. Kg2 Ne4 32. Rf3 Kf7 33. g4 Ke6 34. Ne3 Bxe3 35. Rexe3 Rc8 36. Kf1 b5 37. gxf5+ gxf5 38. Rf4 h5 39. Re2 Rc1+ 40. Re1 Rxe1+ 41. Bxe1 Rc1 42. Rh4 Rb1 43. Rxh5 f4 44. Ke2 f3+ 45. Kxf3 Rxe1 46. Rh6+ Kf5 47. Rxa6 Ng5+ 48. Kg2 Ne6 49. h4 Re4 50. Rb6 Rg4+ 51. Kf1 Nxd4 52. e6 Re4 53. h5 Rxe6 54. Rb8 Rh6 55. Ke1 Rxh5 56. Kd2 Rh3 57. Rf8+ Ke5 58. b4 Rb3 59. Re8+ Ne6 60. f4+ Kf5}

\begin{center}
\begin{tabular}{C{60mm}}
\xskakset{moveid=\xskakgetgame{lastmoveid}}
\chessboard[setfen=\xskakget{nextfen},
       pgfstyle=border,
       color=YellowGreen,
       markfields={e5,f5},
             pgfstyle=straightmove,
             color=YellowGreen,
             markmoves={e5-f5}]
\newline
60. ...\,\xskakget{lan}
\newline
0-1
\end{tabular}
\end{center}
\end{flushleft}
\end{multicols*}
\newpage
\end{document}
